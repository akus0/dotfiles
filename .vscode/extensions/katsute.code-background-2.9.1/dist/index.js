"use strict";var Jo=Object.create;var Ke=Object.defineProperty;var Ko=Object.getOwnPropertyDescriptor;var ta=Object.getOwnPropertyNames;var ea=Object.getPrototypeOf,ia=Object.prototype.hasOwnProperty;var N=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports),ra=(i,t)=>{for(var e in t)Ke(i,e,{get:t[e],enumerable:!0})},os=(i,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ta(t))!ia.call(i,s)&&s!==e&&Ke(i,s,{get:()=>t[s],enumerable:!(r=Ko(t,s))||r.enumerable});return i};var te=(i,t,e)=>(e=i!=null?Jo(ea(i)):{},os(t||!i||!i.__esModule?Ke(e,"default",{value:i,enumerable:!0}):e,i)),sa=i=>os(Ke({},"__esModule",{value:!0}),i);var Qi=N((mh,us)=>{var b={child:require("child_process"),crypto:require("crypto"),fs:require("fs"),os:require("os"),path:require("path"),process,util:require("util")};function na(i,t){var e=b.process.platform;if(e==="darwin")return la(i,t);if(e==="linux")return aa(i,t);if(e==="win32")return ga(i,t);t(new Error("Platform not yet supported."))}function rt(i){if(typeof i!="string")throw new Error("Expected a string.");return i.replace(/"/g,'\\"')}function oa(){if(arguments.length<1||arguments.length>3)throw new Error("Wrong number of arguments.");var i=arguments[0],t={},e=function(){};if(typeof i!="string")throw new Error("Command should be a string.");if(arguments.length===2)if(b.util.isObject(arguments[1]))t=arguments[1];else if(b.util.isFunction(arguments[1]))e=arguments[1];else throw new Error("Expected options or callback.");else if(arguments.length===3){if(b.util.isObject(arguments[1]))t=arguments[1];else throw new Error("Expected options to be an object.");if(b.util.isFunction(arguments[2]))e=arguments[2];else throw new Error("Expected callback to be a function.")}if(/^sudo/i.test(i))return e(new Error('Command should not be prefixed with "sudo".'));if(typeof t.name>"u"){var r=b.process.title;if(as(r))t.name=r;else return e(new Error("process.title cannot be used as a valid name."))}else if(!as(t.name)){var s="";return s+="options.name must be alphanumeric only ",s+="(spaces are allowed) and <= 70 characters.",e(new Error(s))}if(typeof t.icns<"u"){if(typeof t.icns!="string")return e(new Error("options.icns must be a string if provided."));if(t.icns.trim().length===0)return e(new Error("options.icns must not be empty if provided."))}if(typeof t.env<"u"){if(typeof t.env!="object")return e(new Error("options.env must be an object if provided."));if(Object.keys(t.env).length===0)return e(new Error("options.env must not be empty if provided."));for(var n in t.env){var o=t.env[n];if(typeof n!="string"||typeof o!="string")return e(new Error("options.env environment variables must be strings."));if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(n))return e(new Error("options.env has an invalid environment variable name: "+JSON.stringify(n)));if(/[\r\n]/.test(o))return e(new Error("options.env has an invalid environment variable value: "+JSON.stringify(o)))}}var a=b.process.platform;if(a!=="darwin"&&a!=="linux"&&a!=="win32")return e(new Error("Platform not yet supported."));var c={command:i,options:t,uuid:void 0,path:void 0};na(c,e)}function aa(i,t){ca(i,function(e,r){if(e)return t(e);var s=[];s.push('cd "'+rt(b.process.cwd())+'";');for(var n in i.options.env){var o=i.options.env[n];s.push("export "+n+'="'+rt(o)+'";')}s.push('"'+rt(r)+'"'),/kdesudo/i.test(r)?(s.push("--comment",'"'+i.options.name+' wants to make changes. Enter your password to allow this."'),s.push("-d"),s.push("--")):/pkexec/i.test(r)&&s.push("--disable-internal-agent");var a=`SUDOPROMPT
`;s.push('/bin/bash -c "echo '+rt(a.trim())+"; "+rt(i.command)+'"'),s=s.join(" "),b.child.exec(s,{encoding:"utf-8",maxBuffer:Sa},function(c,l,h){var f=l&&l.slice(0,a.length)===a;f&&(l=l.slice(a.length)),c&&!f&&(/No authentication agent found/.test(h)?c.message=ka:c.message=ti),t(c,l,h)})})}function ca(i,t){var e=0,r=["/usr/bin/kdesudo","/usr/bin/pkexec"];function s(){if(e===r.length)return t(new Error("Unable to find pkexec or kdesudo."));var n=r[e++];b.fs.stat(n,function(o){if(o){if(o.code==="ENOTDIR"||o.code==="ENOENT")return s();t(o)}else t(void 0,n)})}s()}function la(i,t){var e=b.os.tmpdir();if(!e)return t(new Error("os.tmpdir() not defined."));var r=b.process.env.USER;if(!r)return t(new Error("env['USER'] not defined."));ls(i,function(s,n){if(s)return t(s);i.uuid=n,i.path=b.path.join(e,i.uuid,i.options.name+".app");function o(a,c,l){cs(b.path.dirname(i.path),function(h){if(a)return t(a);if(h)return t(h);t(void 0,c,l)})}ha(i,function(a,c,l){if(a)return o(a,c,l);fa(i,function(h){if(h)return o(h);pa(i,function(f,u,d){if(f)return o(f,u,d);ua(i,function(m){if(m)return o(m);da(i,function(p,A,g){if(p)return o(p,A,g);ma(i,o)})})})})})})}function ha(i,t){var e=b.path.dirname(i.path);b.fs.mkdir(e,function(r){if(r)return t(r);var s=b.path.join(e,"sudo-prompt-applet.zip");b.fs.writeFile(s,ya,"base64",function(n){if(n)return t(n);var o=[];o.push("/usr/bin/unzip"),o.push("-o"),o.push('"'+rt(s)+'"'),o.push('-d "'+rt(i.path)+'"'),o=o.join(" "),b.child.exec(o,{encoding:"utf-8"},t)})})}function ua(i,t){var e=b.path.join(i.path,"Contents","MacOS","sudo-prompt-command"),r=[];r.push('cd "'+rt(b.process.cwd())+'"');for(var s in i.options.env){var n=i.options.env[s];r.push("export "+s+'="'+rt(n)+'"')}r.push(i.command),r=r.join(`
`),b.fs.writeFile(e,r,"utf-8",t)}function fa(i,t){if(!i.options.icns)return t();b.fs.readFile(i.options.icns,function(e,r){if(e)return t(e);var s=b.path.join(i.path,"Contents","Resources","applet.icns");b.fs.writeFile(s,r,t)})}function da(i,t){var e=b.path.join(i.path,"Contents","MacOS","applet"),r={cwd:b.path.dirname(e),encoding:"utf-8"};b.child.exec("./"+b.path.basename(e),r,t)}function pa(i,t){var e=b.path.join(i.path,"Contents","Info.plist"),r=rt(e),s=rt("CFBundleName"),n=i.options.name+" Password Prompt";if(/'/.test(n))return t(new Error("Value should not contain single quotes."));var o=[];o.push("/usr/bin/defaults"),o.push("write"),o.push('"'+r+'"'),o.push('"'+s+'"'),o.push("'"+n+"'"),o=o.join(" "),b.child.exec(o,{encoding:"utf-8"},t)}function ma(i,t){var e=b.path.join(i.path,"Contents","MacOS");b.fs.readFile(b.path.join(e,"code"),"utf-8",function(r,s){if(r){if(r.code==="ENOENT")return t(new Error(ti));t(r)}else b.fs.readFile(b.path.join(e,"stdout"),"utf-8",function(n,o){if(n)return t(n);b.fs.readFile(b.path.join(e,"stderr"),"utf-8",function(a,c){if(a)return t(a);s=parseInt(s.trim(),10),s===0?t(void 0,o,c):(a=new Error("Command failed: "+i.command+`
`+c),a.code=s,t(a,o,c))})})})}function cs(i,t){if(typeof i!="string"||!i.trim())return t(new Error("Argument path not defined."));var e=[];if(b.process.platform==="win32"){if(/"/.test(i))return t(new Error("Argument path cannot contain double-quotes."));e.push('rmdir /s /q "'+i+'"')}else e.push("/bin/rm"),e.push("-rf"),e.push('"'+rt(b.path.normalize(i))+'"');e=e.join(" "),b.child.exec(e,{encoding:"utf-8"},t)}function ls(i,t){b.crypto.randomBytes(256,function(e,r){e&&(r=Date.now()+""+Math.random());var s=b.crypto.createHash("SHA256");s.update("sudo-prompt-3"),s.update(i.options.name),s.update(i.command),s.update(r);var n=s.digest("hex").slice(-32);if(!n||typeof n!="string"||n.length!==32)return t(new Error("Expected a valid UUID."));t(void 0,n)})}function as(i){return!(!/^[a-z0-9 ]+$/i.test(i)||i.trim().length===0||i.length>70)}function ga(i,t){var e=b.os.tmpdir();if(!e)return t(new Error("os.tmpdir() not defined."));ls(i,function(r,s){if(r)return t(r);if(i.uuid=s,i.path=b.path.join(e,i.uuid),/"/.test(i.path))return t(new Error("instance.path cannot contain double-quotes."));i.pathElevate=b.path.join(i.path,"elevate.vbs"),i.pathExecute=b.path.join(i.path,"execute.bat"),i.pathCommand=b.path.join(i.path,"command.bat"),i.pathStdout=b.path.join(i.path,"stdout"),i.pathStderr=b.path.join(i.path,"stderr"),i.pathStatus=b.path.join(i.path,"status"),b.fs.mkdir(i.path,function(n){if(n)return t(n);function o(a,c,l){cs(i.path,function(h){if(a)return t(a);if(h)return t(h);t(void 0,c,l)})}va(i,function(a){if(a)return o(a);wa(i,function(c){if(c)return o(c);Aa(i,function(l,h,f){if(l)return o(l,h,f);hs(i,function(u){if(u)return o(u);ba(i,o)})})})})})})}function Aa(i,t){var e=[];e.push("powershell.exe"),e.push("Start-Process"),e.push("-FilePath"),e.push(`"'`+i.pathExecute.replace(/'/g,"`'")+`'"`),e.push("-WindowStyle hidden"),e.push("-Verb runAs"),e=e.join(" ");var r=b.child.exec(e,{encoding:"utf-8"},function(s,n,o){if(s)return t(new Error(ti),n,o);t()});r.stdin.end()}function ba(i,t){b.fs.readFile(i.pathStatus,"utf-8",function(e,r){if(e)return t(e);b.fs.readFile(i.pathStdout,"utf-8",function(s,n){if(s)return t(s);b.fs.readFile(i.pathStderr,"utf-8",function(o,a){if(o)return t(o);r=parseInt(r.trim(),10),r===0?t(void 0,n,a):(o=new Error("Command failed: "+i.command+`\r
`+a),o.code=r,t(o,n,a))})})})}function hs(i,t){b.fs.stat(i.pathStatus,function(e,r){e&&e.code==="ENOENT"||r.size<2?setTimeout(function(){b.fs.stat(i.pathStdout,function(s){if(s)return t(new Error(ti));hs(i,t)})},1e3):e?t(e):t()})}function wa(i,t){var e=b.process.cwd();if(/"/.test(e))return t(new Error("process.cwd() cannot contain double-quotes."));var r=[];r.push("@echo off"),r.push("chcp 65001>nul"),r.push('cd /d "'+e+'"');for(var s in i.options.env){var n=i.options.env[s];r.push("set "+s+"="+n.replace(/([<>\\|&^])/g,"^$1"))}r.push(i.command),r=r.join(`\r
`),b.fs.writeFile(i.pathCommand,r,"utf-8",t)}function va(i,t){var e=[];e.push("@echo off"),e.push('call "'+i.pathCommand+'" > "'+i.pathStdout+'" 2> "'+i.pathStderr+'"'),e.push('(echo %ERRORLEVEL%) > "'+i.pathStatus+'"'),e=e.join(`\r
`),b.fs.writeFile(i.pathExecute,e,"utf-8",t)}us.exports.exec=oa;var ya="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",ti="User did not grant permission.",ka="No polkit authentication agent found.",Sa=134217728});var gs=N((Sh,xa)=>{xa.exports={name:"code-background",displayName:"Background",description:"The most advanced background image extension for VSCode",icon:"assets/icon-sm.png",galleryBanner:{color:"#0098FF",theme:"dark"},publisher:"Katsute",version:"2.9.1",private:!0,engines:{vscode:"^1.85.0"},categories:["Other"],keywords:["bg","bk","background","cover","theme","image","gif"],sponsor:{url:"https://ko-fi.com/katsute"},activationEvents:["onStartupFinished"],extensionKind:["ui"],contributes:{commands:[{command:"background.install",title:"Install",category:"Background"},{command:"background.uninstall",title:"Uninstall",category:"Background"},{command:"background.reload",title:"Reload",category:"Background"},{command:"background.config",title:"Configuration",category:"Background"},{command:"background.changelog",title:"Changelog",category:"Background"},{command:"background.help",title:"Help",category:"Background"}],configuration:{title:"Background",order:0,properties:{"background.windowBackgrounds":{markdownDescription:"The list of files, globs, or URLs to pull background images from.\n\n* Use only `/` for directories, `\\` is reserved for escape characters.\n\n* Image URLs must be served over HTTPS.",type:"array",order:0,default:[],items:{type:"string"}},"background.editorBackgrounds":{markdownDescription:"The list of files, globs, or URLs to pull background images from.\n\n* Use only `/` for directories, `\\` is reserved for escape characters.\n\n* Image URLs must be served over HTTPS.",type:"array",order:1,default:[],items:{type:"string"}},"background.sidebarBackgrounds":{markdownDescription:"The list of files, globs, or URLs to pull background images from.\n\n* Use only `/` for directories, `\\` is reserved for escape characters.\n\n* Image URLs must be served over HTTPS.",type:"array",order:2,default:[],items:{type:"string"}},"background.panelBackgrounds":{markdownDescription:"The list of files, globs, or URLs to pull background images from.\n\n* Use only `/` for directories, `\\` is reserved for escape characters.\n\n* Image URLs must be served over HTTPS.",type:"array",order:3,default:[],items:{type:"string"}},"background.backgroundAlignment":{markdownDescription:"The background image alignment.",type:"array",order:4,default:["Center Center","Center Center","Center Center","Center Center"],minItems:4,maxItems:4,items:{type:"string",enum:["Top Left","Top Center","Top Right","Center Left","Center Center","Center Right","Bottom Left","Bottom Center","Bottom Right","Manual"]}},"background.backgroundAlignmentValue":{markdownDescription:"If `#background.backgroundAlignment#` is set to `Manual`, this is the literal value for the `background-position` css property.",type:"array",order:5,default:["50%","50%","50%","50%"],minItems:4,maxItems:4,items:{type:"string",pattern:"^[\\w.% +-]*$"}},"background.backgroundBlur":{markdownDescription:"The background image blur amount in css units.",type:"array",order:6,default:["0","0","0","0"],minItems:4,maxItems:4,items:{type:"string",pattern:"^[\\w.% +-]*$"}},"background.backgroundOpacity":{markdownDescription:"The UI opacity, make sure this number is not to low, otherwise you may not be able to see the UI and revert this change.\n\n`0` is fully visible and `1` is invisible.",type:"array",order:7,default:[.9,.9,.9,.9],minItems:4,maxItems:4,items:{type:"number",minimum:0,maximum:1}},"background.backgroundRepeat":{markdownDescription:"The background image repeat.",type:"array",order:8,default:["No Repeat","No Repeat","No Repeat","No Repeat"],minItems:4,maxItems:4,items:{type:"string",enum:["No Repeat","Repeat","Repeat X","Repeat Y","Repeat Space","Repeat Round"],enumDescriptions:["Do not repeat","Repeat X/Y","Repeat X","Repeat Y","Repeat with even spacing to fill the screen","Repeat and stretch images to fill the screen"]}},"background.backgroundSize":{markdownDescription:"The background image size.",type:"array",order:9,default:["Cover","Cover","Cover","Cover"],minItems:4,maxItems:4,items:{type:"string",enum:["Auto","Contain","Cover","Manual"],enumDescriptions:["Original image size","Fit image to the screen","Stretch image to fill the screen","Manual size"]}},"background.backgroundSizeValue":{markdownDescription:"If `#background.windowBackgroundSize#` is set to `Manual`, this is the literal value for the `background-size` css property.",type:"array",order:10,default:["100%","100%","100%","100%"],minItems:4,maxItems:4,items:{type:"string",pattern:"^[\\w.% +-]*$"}},"background.backgroundChangeTime":{markdownDescription:"How long in seconds before the background should automatically change.\n\nSet to `0` to always use the same image.",type:"array",order:11,default:[0,0,0,0],minItems:4,maxItems:4,items:{type:"number",minimum:0}},"background.useWindowOptionsForAllBackgrounds":{markdownDescription:`If enabled, all background images will use the options set for the windows background.

This does not include the backgrounds, you still need to add background images separately.`,order:12,type:"boolean",default:!1},"background.renderContentAboveBackground":{markdownDescription:"If enabled, content like images, PDFs, and markdown previews will render above the background.",order:13,type:"boolean",default:!1},"background.smoothImageRendering":{markdownDescription:"If enabled, use smooth image rendering rather than pixelated rendering when resizing images.",order:14,type:"boolean",default:!1},"background.CSS":{markdownDescription:"Apply raw CSS to VSCode.",order:15,type:"string",editPresentation:"multilineText",default:""}}}},main:"dist/index.js",scripts:{"// -- dev -- //":"",clean:"rimraf --glob dist & rimraf --glob code-background-*.vsix",prune:"npm prune && npm i --package-lock --ignore-scripts",update:"npm update -D && npm i --package-lock --ignore-scripts && npm run prune","// -- build -- //":"","vscode:prepublish":"npm run prepare","build:esbuild":"esbuild src/extension.ts --bundle --outfile=dist/index.js --external:vscode --format=cjs --platform=node --minify --legal-comments=none --metafile=meta.json","build:post":"node build.js",build:"npm run build:esbuild && npm run build:post",prepare:"npm run clean && npm run build","// -- deploy -- //":"",package:"vsce package","// -- test -- //":"",test:"node ./test/index.js"},repository:{type:"git",url:"git+https://github.com/KatsuteDev/Background.git"},author:"Katsute",license:"GPL-2.0-only",bugs:{url:"https://github.com/KatsuteDev/Background/issues"},homepage:"https://github.com/KatsuteDev/Background#readme",devDependencies:{"@types/node":"20.10.0","@types/tmp":"0.2.6","@types/vscode":"1.85.0","@vscode/sudo-prompt":"9.3.1","@vscode/test-electron":"2.3.8","@vscode/vsce":"2.22.0",esbuild:"0.19.9",glob:"10.3.10",rimraf:"5.0.5",tmp:"0.2.1",typescript:"5.3.3"}}});var $i=N((Dh,ks)=>{"use strict";ks.exports=vs;function vs(i,t,e){i instanceof RegExp&&(i=ws(i,e)),t instanceof RegExp&&(t=ws(t,e));var r=ys(i,t,e);return r&&{start:r[0],end:r[1],pre:e.slice(0,r[0]),body:e.slice(r[0]+i.length,r[1]),post:e.slice(r[1]+t.length)}}function ws(i,t){var e=t.match(i);return e?e[0]:null}vs.range=ys;function ys(i,t,e){var r,s,n,o,a,c=e.indexOf(i),l=e.indexOf(t,c+1),h=c;if(c>=0&&l>0){if(i===t)return[c,l];for(r=[],n=e.length;h>=0&&!a;)h==c?(r.push(h),c=e.indexOf(i,h+1)):r.length==1?a=[r.pop(),l]:(s=r.pop(),s<n&&(n=s,o=l),l=e.indexOf(t,h+1)),h=c<l&&c>=0?c:l;r.length&&(a=[n,o])}return a}});var Is=N((Ph,Os)=>{var Ss=$i();Os.exports=Oa;var Es="\0SLASH"+Math.random()+"\0",xs="\0OPEN"+Math.random()+"\0",Gi="\0CLOSE"+Math.random()+"\0",Cs="\0COMMA"+Math.random()+"\0",Bs="\0PERIOD"+Math.random()+"\0";function Vi(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function Ba(i){return i.split("\\\\").join(Es).split("\\{").join(xs).split("\\}").join(Gi).split("\\,").join(Cs).split("\\.").join(Bs)}function Ta(i){return i.split(Es).join("\\").split(xs).join("{").split(Gi).join("}").split(Cs).join(",").split(Bs).join(".")}function Ts(i){if(!i)return[""];var t=[],e=Ss("{","}",i);if(!e)return i.split(",");var r=e.pre,s=e.body,n=e.post,o=r.split(",");o[o.length-1]+="{"+s+"}";var a=Ts(n);return n.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function Oa(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),Ee(Ba(i),!0).map(Ta)):[]}function Ia(i){return"{"+i+"}"}function Ra(i){return/^-?0\d/.test(i)}function Na(i,t){return i<=t}function Da(i,t){return i>=t}function Ee(i,t){var e=[],r=Ss("{","}",i);if(!r)return[i];var s=r.pre,n=r.post.length?Ee(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<n.length;o++){var a=s+"{"+r.body+"}"+n[o];e.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),h=c||l,f=r.body.indexOf(",")>=0;if(!h&&!f)return r.post.match(/,.*\}/)?(i=r.pre+"{"+r.body+Gi+r.post,Ee(i)):[i];var u;if(h)u=r.body.split(/\.\./);else if(u=Ts(r.body),u.length===1&&(u=Ee(u[0],!1).map(Ia),u.length===1))return n.map(function(kt){return r.pre+u[0]+kt});var d;if(h){var m=Vi(u[0]),p=Vi(u[1]),A=Math.max(u[0].length,u[1].length),g=u.length==3?Math.abs(Vi(u[2])):1,v=Na,k=p<m;k&&(g*=-1,v=Da);var y=u.some(Ra);d=[];for(var E=m;v(E,p);E+=g){var B;if(l)B=String.fromCharCode(E),B==="\\"&&(B="");else if(B=String(E),y){var P=A-B.length;if(P>0){var it=new Array(P+1).join("0");E<0?B="-"+it+B.slice(1):B=it+B}}d.push(B)}}else{d=[];for(var R=0;R<u.length;R++)d.push.apply(d,Ee(u[R],!1))}for(var R=0;R<d.length;R++)for(var o=0;o<n.length;o++){var a=s+d[R]+n[o];(!t||h||a)&&e.push(a)}}return e}});var Rn=N(br=>{var Zt=require("path"),Ut=process.platform==="win32",Lt=require("fs"),qc=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Xc(){var i;if(qc){var t=new Error;i=e}else i=r;return i;function e(s){s&&(t.message=s.message,s=t,r(s))}function r(s){if(s){if(process.throwDeprecation)throw s;if(!process.noDeprecation){var n="fs: missing callback "+(s.stack||s.message);process.traceDeprecation?console.trace(n):console.error(n)}}}}function Hc(i){return typeof i=="function"?i:Xc()}var fd=Zt.normalize;Ut?It=/(.*?)(?:[\/\\]+|$)/g:It=/(.*?)(?:[\/]+|$)/g;var It;Ut?Ve=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Ve=/^[\/]*/;var Ve;br.realpathSync=function(t,e){if(t=Zt.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var r=t,s={},n={},o,a,c,l;h();function h(){var A=Ve.exec(t);o=A[0].length,a=A[0],c=A[0],l="",Ut&&!n[c]&&(Lt.lstatSync(c),n[c]=!0)}for(;o<t.length;){It.lastIndex=o;var f=It.exec(t);if(l=a,a+=f[0],c=l+f[1],o=It.lastIndex,!(n[c]||e&&e[c]===c)){var u;if(e&&Object.prototype.hasOwnProperty.call(e,c))u=e[c];else{var d=Lt.lstatSync(c);if(!d.isSymbolicLink()){n[c]=!0,e&&(e[c]=c);continue}var m=null;if(!Ut){var p=d.dev.toString(32)+":"+d.ino.toString(32);s.hasOwnProperty(p)&&(m=s[p])}m===null&&(Lt.statSync(c),m=Lt.readlinkSync(c)),u=Zt.resolve(l,m),e&&(e[c]=u),Ut||(s[p]=m)}t=Zt.resolve(u,t.slice(o)),h()}}return e&&(e[r]=t),t};br.realpath=function(t,e,r){if(typeof r!="function"&&(r=Hc(e),e=null),t=Zt.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return process.nextTick(r.bind(null,null,e[t]));var s=t,n={},o={},a,c,l,h;f();function f(){var A=Ve.exec(t);a=A[0].length,c=A[0],l=A[0],h="",Ut&&!o[l]?Lt.lstat(l,function(g){if(g)return r(g);o[l]=!0,u()}):process.nextTick(u)}function u(){if(a>=t.length)return e&&(e[s]=t),r(null,t);It.lastIndex=a;var A=It.exec(t);return h=c,c+=A[0],l=h+A[1],a=It.lastIndex,o[l]||e&&e[l]===l?process.nextTick(u):e&&Object.prototype.hasOwnProperty.call(e,l)?p(e[l]):Lt.lstat(l,d)}function d(A,g){if(A)return r(A);if(!g.isSymbolicLink())return o[l]=!0,e&&(e[l]=l),process.nextTick(u);if(!Ut){var v=g.dev.toString(32)+":"+g.ino.toString(32);if(n.hasOwnProperty(v))return m(null,n[v],l)}Lt.stat(l,function(k){if(k)return r(k);Lt.readlink(l,function(y,E){Ut||(n[v]=E),m(y,E)})})}function m(A,g,v){if(A)return r(A);var k=Zt.resolve(h,g);e&&(e[v]=k),p(k)}function p(A){t=Zt.resolve(A,t.slice(a)),f()}}});var kr=N((pd,Fn)=>{Fn.exports=jt;jt.realpath=jt;jt.sync=yr;jt.realpathSync=yr;jt.monkeypatch=Yc;jt.unmonkeypatch=Jc;var ge=require("fs"),wr=ge.realpath,vr=ge.realpathSync,Zc=process.version,Nn=/^v[0-5]\./.test(Zc),Dn=Rn();function Pn(i){return i&&i.syscall==="realpath"&&(i.code==="ELOOP"||i.code==="ENOMEM"||i.code==="ENAMETOOLONG")}function jt(i,t,e){if(Nn)return wr(i,t,e);typeof t=="function"&&(e=t,t=null),wr(i,t,function(r,s){Pn(r)?Dn.realpath(i,t,e):e(r,s)})}function yr(i,t){if(Nn)return vr(i,t);try{return vr(i,t)}catch(e){if(Pn(e))return Dn.realpathSync(i,t);throw e}}function Yc(){ge.realpath=jt,ge.realpathSync=yr}function Jc(){ge.realpath=wr,ge.realpathSync=vr}});var Mn=N((md,_n)=>{_n.exports=function(i,t){for(var e=[],r=0;r<i.length;r++){var s=t(i[r],r);Kc(s)?e.push.apply(e,s):e.push(s)}return e};var Kc=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"}});var Vn=N((gd,$n)=>{var tl=Mn(),Ln=$i();$n.exports=rl;var Un="\0SLASH"+Math.random()+"\0",jn="\0OPEN"+Math.random()+"\0",Er="\0CLOSE"+Math.random()+"\0",zn="\0COMMA"+Math.random()+"\0",Wn="\0PERIOD"+Math.random()+"\0";function Sr(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function el(i){return i.split("\\\\").join(Un).split("\\{").join(jn).split("\\}").join(Er).split("\\,").join(zn).split("\\.").join(Wn)}function il(i){return i.split(Un).join("\\").split(jn).join("{").split(Er).join("}").split(zn).join(",").split(Wn).join(".")}function Qn(i){if(!i)return[""];var t=[],e=Ln("{","}",i);if(!e)return i.split(",");var r=e.pre,s=e.body,n=e.post,o=r.split(",");o[o.length-1]+="{"+s+"}";var a=Qn(n);return n.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function rl(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),Ae(el(i),!0).map(il)):[]}function sl(i){return"{"+i+"}"}function nl(i){return/^-?0\d/.test(i)}function ol(i,t){return i<=t}function al(i,t){return i>=t}function Ae(i,t){var e=[],r=Ln("{","}",i);if(!r||/\$$/.test(r.pre))return[i];var s=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),n=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),o=s||n,a=r.body.indexOf(",")>=0;if(!o&&!a)return r.post.match(/,.*\}/)?(i=r.pre+"{"+r.body+Er+r.post,Ae(i)):[i];var c;if(o)c=r.body.split(/\.\./);else if(c=Qn(r.body),c.length===1&&(c=Ae(c[0],!1).map(sl),c.length===1)){var h=r.post.length?Ae(r.post,!1):[""];return h.map(function(Ui){return r.pre+c[0]+Ui})}var l=r.pre,h=r.post.length?Ae(r.post,!1):[""],f;if(o){var u=Sr(c[0]),d=Sr(c[1]),m=Math.max(c[0].length,c[1].length),p=c.length==3?Math.abs(Sr(c[2])):1,A=ol,g=d<u;g&&(p*=-1,A=al);var v=c.some(nl);f=[];for(var k=u;A(k,d);k+=p){var y;if(n)y=String.fromCharCode(k),y==="\\"&&(y="");else if(y=String(k),v){var E=m-y.length;if(E>0){var B=new Array(E+1).join("0");k<0?y="-"+B+y.slice(1):y=B+y}}f.push(y)}}else f=tl(c,function(kt){return Ae(kt,!1)});for(var P=0;P<f.length;P++)for(var it=0;it<h.length;it++){var R=l+f[P]+h[it];(!t||o||R)&&e.push(R)}return e}});var Ii=N((Ad,Zn)=>{Zn.exports=tt;tt.Minimatch=$;var Ge=function(){try{return require("path")}catch{}}()||{sep:"/"};tt.sep=Ge.sep;var Br=tt.GLOBSTAR=$.GLOBSTAR={},cl=Vn(),Gn={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},xr="[^/]",Cr=xr+"*?",ll="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",hl="(?:(?!(?:\\/|^)\\.).)*?",qn=ul("().*{}+?[]^$\\!");function ul(i){return i.split("").reduce(function(t,e){return t[e]=!0,t},{})}var Xn=/\/+/;tt.filter=fl;function fl(i,t){return t=t||{},function(e,r,s){return tt(e,i,t)}}function zt(i,t){t=t||{};var e={};return Object.keys(i).forEach(function(r){e[r]=i[r]}),Object.keys(t).forEach(function(r){e[r]=t[r]}),e}tt.defaults=function(i){if(!i||typeof i!="object"||!Object.keys(i).length)return tt;var t=tt,e=function(s,n,o){return t(s,n,zt(i,o))};return e.Minimatch=function(s,n){return new t.Minimatch(s,zt(i,n))},e.Minimatch.defaults=function(s){return t.defaults(zt(i,s)).Minimatch},e.filter=function(s,n){return t.filter(s,zt(i,n))},e.defaults=function(s){return t.defaults(zt(i,s))},e.makeRe=function(s,n){return t.makeRe(s,zt(i,n))},e.braceExpand=function(s,n){return t.braceExpand(s,zt(i,n))},e.match=function(r,s,n){return t.match(r,s,zt(i,n))},e};$.defaults=function(i){return tt.defaults(i).Minimatch};function tt(i,t,e){return Oi(t),e||(e={}),!e.nocomment&&t.charAt(0)==="#"?!1:new $(t,e).match(i)}function $(i,t){if(!(this instanceof $))return new $(i,t);Oi(i),t||(t={}),i=i.trim(),!t.allowWindowsEscape&&Ge.sep!=="/"&&(i=i.split(Ge.sep).join("/")),this.options=t,this.set=[],this.pattern=i,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}$.prototype.debug=function(){};$.prototype.make=dl;function dl(){var i=this.pattern,t=this.options;if(!t.nocomment&&i.charAt(0)==="#"){this.comment=!0;return}if(!i){this.empty=!0;return}this.parseNegate();var e=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,e),e=this.globParts=e.map(function(r){return r.split(Xn)}),this.debug(this.pattern,e),e=e.map(function(r,s,n){return r.map(this.parse,this)},this),this.debug(this.pattern,e),e=e.filter(function(r){return r.indexOf(!1)===-1}),this.debug(this.pattern,e),this.set=e}$.prototype.parseNegate=pl;function pl(){var i=this.pattern,t=!1,e=this.options,r=0;if(!e.nonegate){for(var s=0,n=i.length;s<n&&i.charAt(s)==="!";s++)t=!t,r++;r&&(this.pattern=i.substr(r)),this.negate=t}}tt.braceExpand=function(i,t){return Hn(i,t)};$.prototype.braceExpand=Hn;function Hn(i,t){return t||(this instanceof $?t=this.options:t={}),i=typeof i>"u"?this.pattern:i,Oi(i),t.nobrace||!/\{(?:(?!\{).)*\}/.test(i)?[i]:cl(i)}var ml=1024*64,Oi=function(i){if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>ml)throw new TypeError("pattern is too long")};$.prototype.parse=gl;var Ti={};function gl(i,t){Oi(i);var e=this.options;if(i==="**")if(e.noglobstar)i="*";else return Br;if(i==="")return"";var r="",s=!!e.nocase,n=!1,o=[],a=[],c,l=!1,h=-1,f=-1,u=i.charAt(0)==="."?"":e.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",d=this;function m(){if(c){switch(c){case"*":r+=Cr,s=!0;break;case"?":r+=xr,s=!0;break;default:r+="\\"+c;break}d.debug("clearStateChar %j %j",c,r),c=!1}}for(var p=0,A=i.length,g;p<A&&(g=i.charAt(p));p++){if(this.debug("%s	%s %s %j",i,p,r,g),n&&qn[g]){r+="\\"+g,n=!1;continue}switch(g){case"/":return!1;case"\\":m(),n=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",i,p,r,g),l){this.debug("  in class"),g==="!"&&p===f+1&&(g="^"),r+=g;continue}d.debug("call clearStateChar %j",c),m(),c=g,e.noext&&m();continue;case"(":if(l){r+="(";continue}if(!c){r+="\\(";continue}o.push({type:c,start:p-1,reStart:r.length,open:Gn[c].open,close:Gn[c].close}),r+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,r),c=!1;continue;case")":if(l||!o.length){r+="\\)";continue}m(),s=!0;var v=o.pop();r+=v.close,v.type==="!"&&a.push(v),v.reEnd=r.length;continue;case"|":if(l||!o.length||n){r+="\\|",n=!1;continue}m(),r+="|";continue;case"[":if(m(),l){r+="\\"+g;continue}l=!0,f=p,h=r.length,r+=g;continue;case"]":if(p===f+1||!l){r+="\\"+g,n=!1;continue}var k=i.substring(f+1,p);try{RegExp("["+k+"]")}catch{var y=this.parse(k,Ti);r=r.substr(0,h)+"\\["+y[0]+"\\]",s=s||y[1],l=!1;continue}s=!0,l=!1,r+=g;continue;default:m(),n?n=!1:qn[g]&&!(g==="^"&&l)&&(r+="\\"),r+=g}}for(l&&(k=i.substr(f+1),y=this.parse(k,Ti),r=r.substr(0,h)+"\\["+y[0],s=s||y[1]),v=o.pop();v;v=o.pop()){var E=r.slice(v.reStart+v.open.length);this.debug("setting tail",r,v),E=E.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(ss,ns,Wi){return Wi||(Wi="\\"),ns+ns+Wi+"|"}),this.debug(`tail=%j
   %s`,E,E,v,r);var B=v.type==="*"?Cr:v.type==="?"?xr:"\\"+v.type;s=!0,r=r.slice(0,v.reStart)+B+"\\("+E}m(),n&&(r+="\\\\");var P=!1;switch(r.charAt(0)){case"[":case".":case"(":P=!0}for(var it=a.length-1;it>-1;it--){var R=a[it],kt=r.slice(0,R.reStart),Ui=r.slice(R.reStart,R.reEnd-8),is=r.slice(R.reEnd-8,R.reEnd),ke=r.slice(R.reEnd);is+=ke;var Ho=kt.split("(").length-1,ji=ke;for(p=0;p<Ho;p++)ji=ji.replace(/\)[+*?]?/,"");ke=ji;var rs="";ke===""&&t!==Ti&&(rs="$");var Zo=kt+Ui+ke+rs+is;r=Zo}if(r!==""&&s&&(r="(?=.)"+r),P&&(r=u+r),t===Ti)return[r,s];if(!s)return bl(i);var Yo=e.nocase?"i":"";try{var zi=new RegExp("^"+r+"$",Yo)}catch{return new RegExp("$.")}return zi._glob=i,zi._src=r,zi}tt.makeRe=function(i,t){return new $(i,t||{}).makeRe()};$.prototype.makeRe=Al;function Al(){if(this.regexp||this.regexp===!1)return this.regexp;var i=this.set;if(!i.length)return this.regexp=!1,this.regexp;var t=this.options,e=t.noglobstar?Cr:t.dot?ll:hl,r=t.nocase?"i":"",s=i.map(function(n){return n.map(function(o){return o===Br?e:typeof o=="string"?wl(o):o._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,r)}catch{this.regexp=!1}return this.regexp}tt.match=function(i,t,e){e=e||{};var r=new $(t,e);return i=i.filter(function(s){return r.match(s)}),r.options.nonull&&!i.length&&i.push(t),i};$.prototype.match=function(t,e){if(typeof e>"u"&&(e=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;var r=this.options;Ge.sep!=="/"&&(t=t.split(Ge.sep).join("/")),t=t.split(Xn),this.debug(this.pattern,"split",t);var s=this.set;this.debug(this.pattern,"set",s);var n,o;for(o=t.length-1;o>=0&&(n=t[o],!n);o--);for(o=0;o<s.length;o++){var a=s[o],c=t;r.matchBase&&a.length===1&&(c=[n]);var l=this.matchOne(c,a,e);if(l)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate};$.prototype.matchOne=function(i,t,e){var r=this.options;this.debug("matchOne",{this:this,file:i,pattern:t}),this.debug("matchOne",i.length,t.length);for(var s=0,n=0,o=i.length,a=t.length;s<o&&n<a;s++,n++){this.debug("matchOne loop");var c=t[n],l=i[s];if(this.debug(t,c,l),c===!1)return!1;if(c===Br){this.debug("GLOBSTAR",[t,c,l]);var h=s,f=n+1;if(f===a){for(this.debug("** at the end");s<o;s++)if(i[s]==="."||i[s]===".."||!r.dot&&i[s].charAt(0)===".")return!1;return!0}for(;h<o;){var u=i[h];if(this.debug(`
globstar while`,i,h,t,f,u),this.matchOne(i.slice(h),t.slice(f),e))return this.debug("globstar found match!",h,o,u),!0;if(u==="."||u===".."||!r.dot&&u.charAt(0)==="."){this.debug("dot detected!",i,h,t,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(e&&(this.debug(`
>>> no match, partial?`,i,h,t,f),h===o))}var d;if(typeof c=="string"?(d=l===c,this.debug("string match",c,l,d)):(d=l.match(c),this.debug("pattern match",c,l,d)),!d)return!1}if(s===o&&n===a)return!0;if(s===o)return e;if(n===a)return s===o-1&&i[s]==="";throw new Error("wtf?")};function bl(i){return i.replace(/\\(.)/g,"$1")}function wl(i){return i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Yn=N((bd,Tr)=>{typeof Object.create=="function"?Tr.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Tr.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}});var Jn=N((wd,Ir)=>{try{if(Or=require("util"),typeof Or.inherits!="function")throw"";Ir.exports=Or.inherits}catch{Ir.exports=Yn()}var Or});var Ni=N((vd,Ri)=>{"use strict";function Kn(i){return i.charAt(0)==="/"}function to(i){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,e=t.exec(i),r=e[1]||"",s=!!(r&&r.charAt(1)!==":");return!!(e[2]||s)}Ri.exports=process.platform==="win32"?to:Kn;Ri.exports.posix=Kn;Ri.exports.win32=to});var Nr=N(Wt=>{Wt.setopts=xl;Wt.ownProp=eo;Wt.makeAbs=qe;Wt.finish=Cl;Wt.mark=Bl;Wt.isIgnored=ro;Wt.childrenIgnored=Tl;function eo(i,t){return Object.prototype.hasOwnProperty.call(i,t)}var vl=require("fs"),be=require("path"),yl=Ii(),io=Ni(),Rr=yl.Minimatch;function kl(i,t){return i.localeCompare(t,"en")}function Sl(i,t){i.ignore=t.ignore||[],Array.isArray(i.ignore)||(i.ignore=[i.ignore]),i.ignore.length&&(i.ignore=i.ignore.map(El))}function El(i){var t=null;if(i.slice(-3)==="/**"){var e=i.replace(/(\/\*\*)+$/,"");t=new Rr(e,{dot:!0})}return{matcher:new Rr(i,{dot:!0}),gmatcher:t}}function xl(i,t,e){if(e||(e={}),e.matchBase&&t.indexOf("/")===-1){if(e.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}i.silent=!!e.silent,i.pattern=t,i.strict=e.strict!==!1,i.realpath=!!e.realpath,i.realpathCache=e.realpathCache||Object.create(null),i.follow=!!e.follow,i.dot=!!e.dot,i.mark=!!e.mark,i.nodir=!!e.nodir,i.nodir&&(i.mark=!0),i.sync=!!e.sync,i.nounique=!!e.nounique,i.nonull=!!e.nonull,i.nosort=!!e.nosort,i.nocase=!!e.nocase,i.stat=!!e.stat,i.noprocess=!!e.noprocess,i.absolute=!!e.absolute,i.fs=e.fs||vl,i.maxLength=e.maxLength||1/0,i.cache=e.cache||Object.create(null),i.statCache=e.statCache||Object.create(null),i.symlinks=e.symlinks||Object.create(null),Sl(i,e),i.changedCwd=!1;var r=process.cwd();eo(e,"cwd")?(i.cwd=be.resolve(e.cwd),i.changedCwd=i.cwd!==r):i.cwd=r,i.root=e.root||be.resolve(i.cwd,"/"),i.root=be.resolve(i.root),process.platform==="win32"&&(i.root=i.root.replace(/\\/g,"/")),i.cwdAbs=io(i.cwd)?i.cwd:qe(i,i.cwd),process.platform==="win32"&&(i.cwdAbs=i.cwdAbs.replace(/\\/g,"/")),i.nomount=!!e.nomount,e.nonegate=!0,e.nocomment=!0,e.allowWindowsEscape=!1,i.minimatch=new Rr(t,e),i.options=i.minimatch.options}function Cl(i){for(var t=i.nounique,e=t?[]:Object.create(null),r=0,s=i.matches.length;r<s;r++){var n=i.matches[r];if(!n||Object.keys(n).length===0){if(i.nonull){var o=i.minimatch.globSet[r];t?e.push(o):e[o]=!0}}else{var a=Object.keys(n);t?e.push.apply(e,a):a.forEach(function(c){e[c]=!0})}}if(t||(e=Object.keys(e)),i.nosort||(e=e.sort(kl)),i.mark){for(var r=0;r<e.length;r++)e[r]=i._mark(e[r]);i.nodir&&(e=e.filter(function(c){var l=!/\/$/.test(c),h=i.cache[c]||i.cache[qe(i,c)];return l&&h&&(l=h!=="DIR"&&!Array.isArray(h)),l}))}i.ignore.length&&(e=e.filter(function(c){return!ro(i,c)})),i.found=e}function Bl(i,t){var e=qe(i,t),r=i.cache[e],s=t;if(r){var n=r==="DIR"||Array.isArray(r),o=t.slice(-1)==="/";if(n&&!o?s+="/":!n&&o&&(s=s.slice(0,-1)),s!==t){var a=qe(i,s);i.statCache[a]=i.statCache[e],i.cache[a]=i.cache[e]}}return s}function qe(i,t){var e=t;return t.charAt(0)==="/"?e=be.join(i.root,t):io(t)||t===""?e=t:i.changedCwd?e=be.resolve(i.cwd,t):e=be.resolve(t),process.platform==="win32"&&(e=e.replace(/\\/g,"/")),e}function ro(i,t){return i.ignore.length?i.ignore.some(function(e){return e.matcher.match(t)||!!(e.gmatcher&&e.gmatcher.match(t))}):!1}function Tl(i,t){return i.ignore.length?i.ignore.some(function(e){return!!(e.gmatcher&&e.gmatcher.match(t))}):!1}});var co=N((xd,ao)=>{ao.exports=oo;oo.GlobSync=D;var Ol=kr(),so=Ii(),kd=so.Minimatch,Sd=Fr().Glob,Ed=require("util"),Dr=require("path"),no=require("assert"),Di=Ni(),Yt=Nr(),Il=Yt.setopts,Pr=Yt.ownProp,Rl=Yt.childrenIgnored,Nl=Yt.isIgnored;function oo(i,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new D(i,t).found}function D(i,t){if(!i)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof D))return new D(i,t);if(Il(this,i,t),this.noprocess)return this;var e=this.minimatch.set.length;this.matches=new Array(e);for(var r=0;r<e;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}D.prototype._finish=function(){if(no.ok(this instanceof D),this.realpath){var i=this;this.matches.forEach(function(t,e){var r=i.matches[e]=Object.create(null);for(var s in t)try{s=i._makeAbs(s);var n=Ol.realpathSync(s,i.realpathCache);r[n]=!0}catch(o){if(o.syscall==="stat")r[i._makeAbs(s)]=!0;else throw o}})}Yt.finish(this)};D.prototype._process=function(i,t,e){no.ok(this instanceof D);for(var r=0;typeof i[r]=="string";)r++;var s;switch(r){case i.length:this._processSimple(i.join("/"),t);return;case 0:s=null;break;default:s=i.slice(0,r).join("/");break}var n=i.slice(r),o;s===null?o=".":((Di(s)||Di(i.map(function(l){return typeof l=="string"?l:"[*]"}).join("/")))&&(!s||!Di(s))&&(s="/"+s),o=s);var a=this._makeAbs(o);if(!Rl(this,o)){var c=n[0]===so.GLOBSTAR;c?this._processGlobStar(s,o,a,n,t,e):this._processReaddir(s,o,a,n,t,e)}};D.prototype._processReaddir=function(i,t,e,r,s,n){var o=this._readdir(e,n);if(o){for(var a=r[0],c=!!this.minimatch.negate,l=a._glob,h=this.dot||l.charAt(0)===".",f=[],u=0;u<o.length;u++){var d=o[u];if(d.charAt(0)!=="."||h){var m;c&&!i?m=!d.match(a):m=d.match(a),m&&f.push(d)}}var p=f.length;if(p!==0){if(r.length===1&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(var u=0;u<p;u++){var d=f[u];i&&(i.slice(-1)!=="/"?d=i+"/"+d:d=i+d),d.charAt(0)==="/"&&!this.nomount&&(d=Dr.join(this.root,d)),this._emitMatch(s,d)}return}r.shift();for(var u=0;u<p;u++){var d=f[u],A;i?A=[i,d]:A=[d],this._process(A.concat(r),s,n)}}}};D.prototype._emitMatch=function(i,t){if(!Nl(this,t)){var e=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=e),!this.matches[i][t]){if(this.nodir){var r=this.cache[e];if(r==="DIR"||Array.isArray(r))return}this.matches[i][t]=!0,this.stat&&this._stat(t)}}};D.prototype._readdirInGlobStar=function(i){if(this.follow)return this._readdir(i,!1);var t,e,r;try{e=this.fs.lstatSync(i)}catch(n){if(n.code==="ENOENT")return null}var s=e&&e.isSymbolicLink();return this.symlinks[i]=s,!s&&e&&!e.isDirectory()?this.cache[i]="FILE":t=this._readdir(i,!1),t};D.prototype._readdir=function(i,t){var e;if(t&&!Pr(this.symlinks,i))return this._readdirInGlobStar(i);if(Pr(this.cache,i)){var r=this.cache[i];if(!r||r==="FILE")return null;if(Array.isArray(r))return r}try{return this._readdirEntries(i,this.fs.readdirSync(i))}catch(s){return this._readdirError(i,s),null}};D.prototype._readdirEntries=function(i,t){if(!this.mark&&!this.stat)for(var e=0;e<t.length;e++){var r=t[e];i==="/"?r=i+r:r=i+"/"+r,this.cache[r]=!0}return this.cache[i]=t,t};D.prototype._readdirError=function(i,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var e=this._makeAbs(i);if(this.cache[e]="FILE",e===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(i)]=!1;break;default:if(this.cache[this._makeAbs(i)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};D.prototype._processGlobStar=function(i,t,e,r,s,n){var o=this._readdir(e,n);if(o){var a=r.slice(1),c=i?[i]:[],l=c.concat(a);this._process(l,s,!1);var h=o.length,f=this.symlinks[e];if(!(f&&n))for(var u=0;u<h;u++){var d=o[u];if(!(d.charAt(0)==="."&&!this.dot)){var m=c.concat(o[u],a);this._process(m,s,!0);var p=c.concat(o[u],r);this._process(p,s,!0)}}}};D.prototype._processSimple=function(i,t){var e=this._stat(i);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!e){if(i&&Di(i)&&!this.nomount){var r=/[\/\\]$/.test(i);i.charAt(0)==="/"?i=Dr.join(this.root,i):(i=Dr.resolve(this.root,i),r&&(i+="/"))}process.platform==="win32"&&(i=i.replace(/\\/g,"/")),this._emitMatch(t,i)}};D.prototype._stat=function(i){var t=this._makeAbs(i),e=i.slice(-1)==="/";if(i.length>this.maxLength)return!1;if(!this.stat&&Pr(this.cache,t)){var o=this.cache[t];if(Array.isArray(o)&&(o="DIR"),!e||o==="DIR")return o;if(e&&o==="FILE")return!1}var r,s=this.statCache[t];if(!s){var n;try{n=this.fs.lstatSync(t)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(n&&n.isSymbolicLink())try{s=this.fs.statSync(t)}catch{s=n}else s=n}this.statCache[t]=s;var o=!0;return s&&(o=s.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,e&&o==="FILE"?!1:o};D.prototype._mark=function(i){return Yt.mark(this,i)};D.prototype._makeAbs=function(i){return Yt.makeAbs(this,i)}});var _r=N((Cd,ho)=>{ho.exports=lo;function lo(i,t){if(i&&t)return lo(i)(t);if(typeof i!="function")throw new TypeError("need wrapper function");return Object.keys(i).forEach(function(r){e[r]=i[r]}),e;function e(){for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];var n=i.apply(this,r),o=r[r.length-1];return typeof n=="function"&&n!==o&&Object.keys(o).forEach(function(a){n[a]=o[a]}),n}}});var Lr=N((Bd,Mr)=>{var uo=_r();Mr.exports=uo(Pi);Mr.exports.strict=uo(fo);Pi.proto=Pi(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Pi(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return fo(this)},configurable:!0})});function Pi(i){var t=function(){return t.called?t.value:(t.called=!0,t.value=i.apply(this,arguments))};return t.called=!1,t}function fo(i){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=i.apply(this,arguments)},e=i.name||"Function wrapped with `once`";return t.onceError=e+" shouldn't be called more than once",t.called=!1,t}});var mo=N((Td,po)=>{var Dl=_r(),Xe=Object.create(null),Pl=Lr();po.exports=Dl(Fl);function Fl(i,t){return Xe[i]?(Xe[i].push(t),null):(Xe[i]=[t],_l(i))}function _l(i){return Pl(function t(){var e=Xe[i],r=e.length,s=Ml(arguments);try{for(var n=0;n<r;n++)e[n].apply(null,s)}finally{e.length>r?(e.splice(0,r),process.nextTick(function(){t.apply(null,s)})):delete Xe[i]}})}function Ml(i){for(var t=i.length,e=[],r=0;r<t;r++)e[r]=i[r];return e}});var Fr=N((Rd,Ao)=>{Ao.exports=Jt;var Ll=kr(),go=Ii(),Od=go.Minimatch,Ul=Jn(),jl=require("events").EventEmitter,Ur=require("path"),jr=require("assert"),He=Ni(),Wr=co(),Kt=Nr(),zl=Kt.setopts,zr=Kt.ownProp,Qr=mo(),Id=require("util"),Wl=Kt.childrenIgnored,Ql=Kt.isIgnored,$l=Lr();function Jt(i,t,e){if(typeof t=="function"&&(e=t,t={}),t||(t={}),t.sync){if(e)throw new TypeError("callback provided to sync glob");return Wr(i,t)}return new x(i,t,e)}Jt.sync=Wr;var Vl=Jt.GlobSync=Wr.GlobSync;Jt.glob=Jt;function Gl(i,t){if(t===null||typeof t!="object")return i;for(var e=Object.keys(t),r=e.length;r--;)i[e[r]]=t[e[r]];return i}Jt.hasMagic=function(i,t){var e=Gl({},t);e.noprocess=!0;var r=new x(i,e),s=r.minimatch.set;if(!i)return!1;if(s.length>1)return!0;for(var n=0;n<s[0].length;n++)if(typeof s[0][n]!="string")return!0;return!1};Jt.Glob=x;Ul(x,jl);function x(i,t,e){if(typeof t=="function"&&(e=t,t=null),t&&t.sync){if(e)throw new TypeError("callback provided to sync glob");return new Vl(i,t)}if(!(this instanceof x))return new x(i,t,e);zl(this,i,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),typeof e=="function"&&(e=$l(e),this.on("error",e),this.on("end",function(c){e(null,c)}));var s=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(r===0)return a();for(var n=!0,o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,a);n=!1;function a(){--s._processing,s._processing<=0&&(n?process.nextTick(function(){s._finish()}):s._finish())}}x.prototype._finish=function(){if(jr(this instanceof x),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Kt.finish(this),this.emit("end",this.found)}};x.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var i=this.matches.length;if(i===0)return this._finish();for(var t=this,e=0;e<this.matches.length;e++)this._realpathSet(e,r);function r(){--i===0&&t._finish()}};x.prototype._realpathSet=function(i,t){var e=this.matches[i];if(!e)return t();var r=Object.keys(e),s=this,n=r.length;if(n===0)return t();var o=this.matches[i]=Object.create(null);r.forEach(function(a,c){a=s._makeAbs(a),Ll.realpath(a,s.realpathCache,function(l,h){l?l.syscall==="stat"?o[a]=!0:s.emit("error",l):o[h]=!0,--n===0&&(s.matches[i]=o,t())})})};x.prototype._mark=function(i){return Kt.mark(this,i)};x.prototype._makeAbs=function(i){return Kt.makeAbs(this,i)};x.prototype.abort=function(){this.aborted=!0,this.emit("abort")};x.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};x.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var i=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<i.length;t++){var e=i[t];this._emitMatch(e[0],e[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<r.length;t++){var s=r[t];this._processing--,this._process(s[0],s[1],s[2],s[3])}}}};x.prototype._process=function(i,t,e,r){if(jr(this instanceof x),jr(typeof r=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([i,t,e,r]);return}for(var s=0;typeof i[s]=="string";)s++;var n;switch(s){case i.length:this._processSimple(i.join("/"),t,r);return;case 0:n=null;break;default:n=i.slice(0,s).join("/");break}var o=i.slice(s),a;n===null?a=".":((He(n)||He(i.map(function(h){return typeof h=="string"?h:"[*]"}).join("/")))&&(!n||!He(n))&&(n="/"+n),a=n);var c=this._makeAbs(a);if(Wl(this,a))return r();var l=o[0]===go.GLOBSTAR;l?this._processGlobStar(n,a,c,o,t,e,r):this._processReaddir(n,a,c,o,t,e,r)}};x.prototype._processReaddir=function(i,t,e,r,s,n,o){var a=this;this._readdir(e,n,function(c,l){return a._processReaddir2(i,t,e,r,s,n,l,o)})};x.prototype._processReaddir2=function(i,t,e,r,s,n,o,a){if(!o)return a();for(var c=r[0],l=!!this.minimatch.negate,h=c._glob,f=this.dot||h.charAt(0)===".",u=[],d=0;d<o.length;d++){var m=o[d];if(m.charAt(0)!=="."||f){var p;l&&!i?p=!m.match(c):p=m.match(c),p&&u.push(m)}}var A=u.length;if(A===0)return a();if(r.length===1&&!this.mark&&!this.stat){this.matches[s]||(this.matches[s]=Object.create(null));for(var d=0;d<A;d++){var m=u[d];i&&(i!=="/"?m=i+"/"+m:m=i+m),m.charAt(0)==="/"&&!this.nomount&&(m=Ur.join(this.root,m)),this._emitMatch(s,m)}return a()}r.shift();for(var d=0;d<A;d++){var m=u[d],g;i&&(i!=="/"?m=i+"/"+m:m=i+m),this._process([m].concat(r),s,n,a)}a()};x.prototype._emitMatch=function(i,t){if(!this.aborted&&!Ql(this,t)){if(this.paused){this._emitQueue.push([i,t]);return}var e=He(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=e),!this.matches[i][t]){if(this.nodir){var r=this.cache[e];if(r==="DIR"||Array.isArray(r))return}this.matches[i][t]=!0;var s=this.statCache[e];s&&this.emit("stat",t,s),this.emit("match",t)}}};x.prototype._readdirInGlobStar=function(i,t){if(this.aborted)return;if(this.follow)return this._readdir(i,!1,t);var e="lstat\0"+i,r=this,s=Qr(e,n);s&&r.fs.lstat(i,s);function n(o,a){if(o&&o.code==="ENOENT")return t();var c=a&&a.isSymbolicLink();r.symlinks[i]=c,!c&&a&&!a.isDirectory()?(r.cache[i]="FILE",t()):r._readdir(i,!1,t)}};x.prototype._readdir=function(i,t,e){if(!this.aborted&&(e=Qr("readdir\0"+i+"\0"+t,e),!!e)){if(t&&!zr(this.symlinks,i))return this._readdirInGlobStar(i,e);if(zr(this.cache,i)){var r=this.cache[i];if(!r||r==="FILE")return e();if(Array.isArray(r))return e(null,r)}var s=this;s.fs.readdir(i,ql(this,i,e))}};function ql(i,t,e){return function(r,s){r?i._readdirError(t,r,e):i._readdirEntries(t,s,e)}}x.prototype._readdirEntries=function(i,t,e){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var s=t[r];i==="/"?s=i+s:s=i+"/"+s,this.cache[s]=!0}return this.cache[i]=t,e(null,t)}};x.prototype._readdirError=function(i,t,e){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(i);if(this.cache[r]="FILE",r===this.cwdAbs){var s=new Error(t.code+" invalid cwd "+this.cwd);s.path=this.cwd,s.code=t.code,this.emit("error",s),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(i)]=!1;break;default:this.cache[this._makeAbs(i)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return e()}};x.prototype._processGlobStar=function(i,t,e,r,s,n,o){var a=this;this._readdir(e,n,function(c,l){a._processGlobStar2(i,t,e,r,s,n,l,o)})};x.prototype._processGlobStar2=function(i,t,e,r,s,n,o,a){if(!o)return a();var c=r.slice(1),l=i?[i]:[],h=l.concat(c);this._process(h,s,!1,a);var f=this.symlinks[e],u=o.length;if(f&&n)return a();for(var d=0;d<u;d++){var m=o[d];if(!(m.charAt(0)==="."&&!this.dot)){var p=l.concat(o[d],c);this._process(p,s,!0,a);var A=l.concat(o[d],r);this._process(A,s,!0,a)}}a()};x.prototype._processSimple=function(i,t,e){var r=this;this._stat(i,function(s,n){r._processSimple2(i,t,s,n,e)})};x.prototype._processSimple2=function(i,t,e,r,s){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return s();if(i&&He(i)&&!this.nomount){var n=/[\/\\]$/.test(i);i.charAt(0)==="/"?i=Ur.join(this.root,i):(i=Ur.resolve(this.root,i),n&&(i+="/"))}process.platform==="win32"&&(i=i.replace(/\\/g,"/")),this._emitMatch(t,i),s()};x.prototype._stat=function(i,t){var e=this._makeAbs(i),r=i.slice(-1)==="/";if(i.length>this.maxLength)return t();if(!this.stat&&zr(this.cache,e)){var s=this.cache[e];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return t(null,s);if(r&&s==="FILE")return t()}var n,o=this.statCache[e];if(o!==void 0){if(o===!1)return t(null,o);var a=o.isDirectory()?"DIR":"FILE";return r&&a==="FILE"?t():t(null,a,o)}var c=this,l=Qr("stat\0"+e,h);l&&c.fs.lstat(e,l);function h(f,u){if(u&&u.isSymbolicLink())return c.fs.stat(e,function(d,m){d?c._stat2(i,e,null,u,t):c._stat2(i,e,d,m,t)});c._stat2(i,e,f,u,t)}};x.prototype._stat2=function(i,t,e,r,s){if(e&&(e.code==="ENOENT"||e.code==="ENOTDIR"))return this.statCache[t]=!1,s();var n=i.slice(-1)==="/";if(this.statCache[t]=r,t.slice(-1)==="/"&&r&&!r.isDirectory())return s(null,!1,r);var o=!0;return r&&(o=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,n&&o==="FILE"?s():s(null,o,r)}});var xo=N((Nd,Eo)=>{var C=require("assert"),yo=require("path"),bo=require("fs"),we;try{we=Fr()}catch{}var Xl={nosort:!0,silent:!0},$r=0,Ze=process.platform==="win32",ko=i=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(e=>{i[e]=i[e]||bo[e],e=e+"Sync",i[e]=i[e]||bo[e]}),i.maxBusyTries=i.maxBusyTries||3,i.emfileWait=i.emfileWait||1e3,i.glob===!1&&(i.disableGlob=!0),i.disableGlob!==!0&&we===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");i.disableGlob=i.disableGlob||!1,i.glob=i.glob||Xl},Gr=(i,t,e)=>{typeof t=="function"&&(e=t,t={}),C(i,"rimraf: missing path"),C.equal(typeof i,"string","rimraf: path should be a string"),C.equal(typeof e,"function","rimraf: callback function required"),C(t,"rimraf: invalid options argument provided"),C.equal(typeof t,"object","rimraf: options should be object"),ko(t);let r=0,s=null,n=0,o=c=>{s=s||c,--n===0&&e(s)},a=(c,l)=>{if(c)return e(c);if(n=l.length,n===0)return e();l.forEach(h=>{let f=u=>{if(u){if((u.code==="EBUSY"||u.code==="ENOTEMPTY"||u.code==="EPERM")&&r<t.maxBusyTries)return r++,setTimeout(()=>Vr(h,t,f),r*100);if(u.code==="EMFILE"&&$r<t.emfileWait)return setTimeout(()=>Vr(h,t,f),$r++);u.code==="ENOENT"&&(u=null)}$r=0,o(u)};Vr(h,t,f)})};if(t.disableGlob||!we.hasMagic(i))return a(null,[i]);t.lstat(i,(c,l)=>{if(!c)return a(null,[i]);we(i,t.glob,a)})},Vr=(i,t,e)=>{C(i),C(t),C(typeof e=="function"),t.lstat(i,(r,s)=>{if(r&&r.code==="ENOENT")return e(null);if(r&&r.code==="EPERM"&&Ze&&wo(i,t,r,e),s&&s.isDirectory())return Fi(i,t,r,e);t.unlink(i,n=>{if(n){if(n.code==="ENOENT")return e(null);if(n.code==="EPERM")return Ze?wo(i,t,n,e):Fi(i,t,n,e);if(n.code==="EISDIR")return Fi(i,t,n,e)}return e(n)})})},wo=(i,t,e,r)=>{C(i),C(t),C(typeof r=="function"),t.chmod(i,438,s=>{s?r(s.code==="ENOENT"?null:e):t.stat(i,(n,o)=>{n?r(n.code==="ENOENT"?null:e):o.isDirectory()?Fi(i,t,e,r):t.unlink(i,r)})})},vo=(i,t,e)=>{C(i),C(t);try{t.chmodSync(i,438)}catch(s){if(s.code==="ENOENT")return;throw e}let r;try{r=t.statSync(i)}catch(s){if(s.code==="ENOENT")return;throw e}r.isDirectory()?_i(i,t,e):t.unlinkSync(i)},Fi=(i,t,e,r)=>{C(i),C(t),C(typeof r=="function"),t.rmdir(i,s=>{s&&(s.code==="ENOTEMPTY"||s.code==="EEXIST"||s.code==="EPERM")?Hl(i,t,r):s&&s.code==="ENOTDIR"?r(e):r(s)})},Hl=(i,t,e)=>{C(i),C(t),C(typeof e=="function"),t.readdir(i,(r,s)=>{if(r)return e(r);let n=s.length;if(n===0)return t.rmdir(i,e);let o;s.forEach(a=>{Gr(yo.join(i,a),t,c=>{if(!o){if(c)return e(o=c);--n===0&&t.rmdir(i,e)}})})})},So=(i,t)=>{t=t||{},ko(t),C(i,"rimraf: missing path"),C.equal(typeof i,"string","rimraf: path should be a string"),C(t,"rimraf: missing options"),C.equal(typeof t,"object","rimraf: options should be object");let e;if(t.disableGlob||!we.hasMagic(i))e=[i];else try{t.lstatSync(i),e=[i]}catch{e=we.sync(i,t.glob)}if(e.length)for(let r=0;r<e.length;r++){let s=e[r],n;try{n=t.lstatSync(s)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&Ze&&vo(s,t,o)}try{n&&n.isDirectory()?_i(s,t,null):t.unlinkSync(s)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return Ze?vo(s,t,o):_i(s,t,o);if(o.code!=="EISDIR")throw o;_i(s,t,o)}}},_i=(i,t,e)=>{C(i),C(t);try{t.rmdirSync(i)}catch(r){if(r.code==="ENOENT")return;if(r.code==="ENOTDIR")throw e;(r.code==="ENOTEMPTY"||r.code==="EEXIST"||r.code==="EPERM")&&Zl(i,t)}},Zl=(i,t)=>{C(i),C(t),t.readdirSync(i).forEach(s=>So(yo.join(i,s),t));let e=Ze?100:1,r=0;do{let s=!0;try{let n=t.rmdirSync(i,t);return s=!1,n}finally{if(++r<e&&s)continue}}while(!0)};Eo.exports=Gr;Gr.sync=So});var Qo=N((Dd,Rt)=>{var j=require("fs"),Yr=require("os"),et=require("path"),Co=require("crypto"),yt={fs:j.constants,os:Yr.constants},Oo=xo(),Bo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Io=/XXXXXX/,Yl=3,Ro=(yt.O_CREAT||yt.fs.O_CREAT)|(yt.O_EXCL||yt.fs.O_EXCL)|(yt.O_RDWR||yt.fs.O_RDWR),Jl=Yr.platform()==="win32",Kl=yt.EBADF||yt.os.errno.EBADF,th=yt.ENOENT||yt.os.errno.ENOENT,No=448,Do=384,eh="exit",ve=[],Po=j.rmdirSync.bind(j),Fo=Oo.sync,_o=!1;function Jr(i,t){let e=ye(i,t),r=e[0],s=e[1];try{jo(r)}catch(o){return s(o)}let n=r.tries;(function o(){try{let a=Uo(r);j.stat(a,function(c){if(!c)return n-- >0?o():s(new Error("Could not get a unique tmp filename, max tries reached "+a));s(null,a)})}catch(a){s(a)}})()}function Kr(i){let t=ye(i),e=t[0];jo(e);let r=e.tries;do{let s=Uo(e);try{j.statSync(s)}catch{return s}}while(r-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function ih(i,t){let e=ye(i,t),r=e[0],s=e[1];Jr(r,function(o,a){if(o)return s(o);j.open(a,Ro,r.mode||Do,function(l,h){if(l)return s(l);if(r.discardDescriptor)return j.close(h,function(u){return s(u,a,void 0,Xr(a,-1,r,!1))});{let f=r.discardDescriptor||r.detachDescriptor;s(null,a,h,Xr(a,f?-1:h,r,!1))}})})}function rh(i){let t=ye(i),e=t[0],r=e.discardDescriptor||e.detachDescriptor,s=Kr(e);var n=j.openSync(s,Ro,e.mode||Do);return e.discardDescriptor&&(j.closeSync(n),n=void 0),{name:s,fd:n,removeCallback:Xr(s,r?-1:n,e,!0)}}function sh(i,t){let e=ye(i,t),r=e[0],s=e[1];Jr(r,function(o,a){if(o)return s(o);j.mkdir(a,r.mode||No,function(l){if(l)return s(l);s(null,a,Mo(a,r,!1))})})}function nh(i){let t=ye(i),e=t[0],r=Kr(e);return j.mkdirSync(r,e.mode||No),{name:r,removeCallback:Mo(r,e,!0)}}function oh(i,t){let e=function(r){if(r&&!Zr(r))return t(r);t()};0<=i[0]?j.close(i[0],function(){j.unlink(i[1],e)}):j.unlink(i[1],e)}function ah(i){let t=null;try{0<=i[0]&&j.closeSync(i[0])}catch(e){if(!lh(e)&&!Zr(e))throw e}finally{try{j.unlinkSync(i[1])}catch(e){Zr(e)||(t=e)}}if(t!==null)throw t}function Xr(i,t,e,r){let s=Mi(ah,[t,i],r),n=Mi(oh,[t,i],r,s);return e.keep||ve.unshift(s),r?s:n}function Mo(i,t,e){let r=t.unsafeCleanup?Oo:j.rmdir.bind(j),s=t.unsafeCleanup?Fo:Po,n=Mi(s,i,e),o=Mi(r,i,e,n);return t.keep||ve.unshift(n),e?n:o}function Mi(i,t,e,r){let s=!1;return function n(o){if(!s){let a=r||n,c=ve.indexOf(a);return c>=0&&ve.splice(c,1),s=!0,e||i===Po||i===Fo?i(t):i(t,o||function(){})}}}function ch(){if(_o)for(;ve.length;)try{ve[0]()}catch{}}function To(i){let t=[],e=null;try{e=Co.randomBytes(i)}catch{e=Co.pseudoRandomBytes(i)}for(var r=0;r<i;r++)t.push(Bo[e[r]%Bo.length]);return t.join("")}function Lo(i){return i===null||Y(i)||!i.trim()}function Y(i){return typeof i>"u"}function ye(i,t){if(typeof i=="function")return[{},i];if(Y(i))return[{},t];let e={};for(let r of Object.getOwnPropertyNames(i))e[r]=i[r];return[e,t]}function Uo(i){let t=i.tmpdir;if(!Y(i.name))return et.join(t,i.dir,i.name);if(!Y(i.template))return et.join(t,i.dir,i.template).replace(Io,To(6));let e=[i.prefix?i.prefix:"tmp","-",process.pid,"-",To(12),i.postfix?"-"+i.postfix:""].join("");return et.join(t,i.dir,e)}function jo(i){i.tmpdir=Wo(i);let t=i.tmpdir;if(Y(i.name)||qr(i.name,"name",t),Y(i.dir)||qr(i.dir,"dir",t),!Y(i.template)&&(qr(i.template,"template",t),!i.template.match(Io)))throw new Error(`Invalid template, found "${i.template}".`);if(!Y(i.tries)&&isNaN(i.tries)||i.tries<0)throw new Error(`Invalid tries, found "${i.tries}".`);i.tries=Y(i.name)?i.tries||Yl:1,i.keep=!!i.keep,i.detachDescriptor=!!i.detachDescriptor,i.discardDescriptor=!!i.discardDescriptor,i.unsafeCleanup=!!i.unsafeCleanup,i.dir=Y(i.dir)?"":et.relative(t,Hr(i.dir,t)),i.template=Y(i.template)?void 0:et.relative(t,Hr(i.template,t)),i.template=Lo(i.template)?void 0:et.relative(i.dir,i.template),i.name=Y(i.name)?void 0:ts(i.name),i.prefix=Y(i.prefix)?"":i.prefix,i.postfix=Y(i.postfix)?"":i.postfix}function Hr(i,t){let e=ts(i);return e.startsWith(t)?et.resolve(e):et.resolve(et.join(t,e))}function ts(i){return Lo(i)?i:i.replace(/["']/g,"")}function qr(i,t,e){if(t==="name"){if(et.isAbsolute(i))throw new Error(`${t} option must not contain an absolute path, found "${i}".`);let r=et.basename(i);if(r===".."||r==="."||r!==i)throw new Error(`${t} option must not contain a path, found "${i}".`)}else{if(et.isAbsolute(i)&&!i.startsWith(e))throw new Error(`${t} option must be relative to "${e}", found "${i}".`);let r=Hr(i,e);if(!r.startsWith(e))throw new Error(`${t} option must be relative to "${e}", found "${r}".`)}}function lh(i){return zo(i,-Kl,"EBADF")}function Zr(i){return zo(i,-th,"ENOENT")}function zo(i,t,e){return Jl?i.code===e:i.code===e&&i.errno===t}function hh(){_o=!0}function Wo(i){return et.resolve(ts(i&&i.tmpdir||Yr.tmpdir()))}process.addListener(eh,ch);Object.defineProperty(Rt.exports,"tmpdir",{enumerable:!0,configurable:!1,get:function(){return Wo()}});Rt.exports.dir=sh;Rt.exports.dirSync=nh;Rt.exports.file=ih;Rt.exports.fileSync=rh;Rt.exports.tmpName=Jr;Rt.exports.tmpNameSync=Kr;Rt.exports.setGracefulCleanup=hh});var dh={};ra(dh,{activate:()=>fh});module.exports=sa(dh);var Qt=require("path"),Je=require("os"),Xo=te(Qi()),$t=require("fs"),T=require("vscode");var fs=require("process"),ds=require("crypto"),ps=require("fs"),Ea=fs.platform==="win32",ei=i=>i.map(t=>Ea?((0,ps.existsSync)(t[1])?"":`echo "NUL" > "${t[1]}" && `)+`xcopy /r /y "${t[0]}" "${t[1]}"`:`cp -f '${t[0]}' '${t[1]}'`).join(" && "),ms=i=>(0,ds.createHash)("md5").update(i).digest("base64").replace(/=+$/gm,"");var Vt=require("vscode"),Gt=()=>Vt.commands.executeCommand("workbench.action.reloadWindow"),st=(i={})=>{i.handle&&Vt.window.showInputBox(i).then(t=>{t!==void 0&&new Promise(()=>i.handle(t))})},S=(i,t)=>({...i,description:((i.description??"")+(i.label===t?" (selected)":"")).trim()}),ut=(i,t={},e)=>{Vt.window.showQuickPick([...e?[S({alwaysShow:!0,label:"$(arrow-left) Back",handle:e}),H()]:[],...i],t).then(r=>{r?.handle&&new Promise(()=>r.handle(r))})},H=()=>({label:"",kind:Vt.QuickPickItemKind.Separator});var Ar=require("vscode");var pe=require("vscode");var z=(i,t)=>Math.round((i+Number.EPSILON)*Math.pow(10,t))/Math.pow(10,t);var Et=require("vscode");var ii=gs(),ft=i=>ii.contributes.configuration.properties[`background.${i}`];var As=i=>i.replace(/\r?\n/gm," ").replace(/"/gm,"'").replace(/\\+$/gm,""),ri=i=>i.replace(/[^\w.% +-]/gmi,""),Ca=/[^\w.% +-]/gm,St=i=>!i.match(Ca);var bs=i=>({window:0,editor:1,sidebar:2,panel:3})[i],ee=()=>Et.workspace.getConfiguration("background"),Se=()=>Et.window.showWarningMessage("Background has been modified, a reinstall is required to see changes.","Install and Reload","Ignore").then(i=>{i==="Install and Reload"&&Et.commands.executeCommand("background.install")}),w=(i,t,e=!1)=>t?ee().get(i)[e&&w("useWindowOptionsForAllBackgrounds")===!0?0:bs(t)]??ft(i).default[0]??"null":ee().get(i)??ft(i).default??"null",O=(i,t)=>{let e=w(i,t,!0),r=ft(i);switch(i){case"backgroundAlignment":switch(e){case r.items.enum[0]:return"left top";case r.items.enum[1]:return"center top";case r.items.enum[2]:return"right top";case r.items.enum[3]:return"left center";case r.items.enum[4]:return"center center";case r.items.enum[5]:return"right center";case r.items.enum[6]:return"left bottom";case r.items.enum[7]:return"center bottom";case r.items.enum[8]:return"right bottom";case r.items.enum[9]:return ri(w("backgroundAlignmentValue",t,!0))}case"backgroundBlur":return ri(e);case"backgroundOpacity":return isNaN(+e)?r.default[0]:z(+e,2);case"backgroundRepeat":switch(e){case r.items.enum[0]:return"no-repeat";case r.items.enum[1]:return"repeat";case r.items.enum[2]:return"repeat-x";case r.items.enum[3]:return"repeat-y";case r.items.enum[4]:return"space";case r.items.enum[5]:return"round"}case"backgroundSize":switch(e){case r.items.enum[0]:return"auto";case r.items.enum[1]:return"contain";case r.items.enum[2]:return"cover";case r.items.enum[3]:return ri(w("backgroundSizeValue",t,!0))}default:return"null"}},F=async(i,t,e,r=!1)=>{let s=!1;if(!e)s=w(i)!==t,await ee().update(i,t,Et.ConfigurationTarget.Global);else{let n=w(i);for(let a=n.length;a<4;a++)n.push(ft(i).default[0]);let o=bs(e);s=n[o]!==t,n[o]=t,await ee().update(i,n,Et.ConfigurationTarget.Global)}r===!1&&s&&Se()},ie=async(i,t,e)=>{t.label&&await F(i,t.label,e)};var wn=require("path");var Ls=te(Is(),1);var xe=i=>{if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>65536)throw new TypeError("pattern is too long")};var Pa={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Ce=i=>i.replace(/[[\]\\-]/g,"\\$&"),Fa=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Rs=i=>i.join(""),Ns=(i,t)=>{let e=t;if(i.charAt(e)!=="[")throw new Error("not in a brace expression");let r=[],s=[],n=e+1,o=!1,a=!1,c=!1,l=!1,h=e,f="";t:for(;n<i.length;){let p=i.charAt(n);if((p==="!"||p==="^")&&n===e+1){l=!0,n++;continue}if(p==="]"&&o&&!c){h=n+1;break}if(o=!0,p==="\\"&&!c){c=!0,n++;continue}if(p==="["&&!c){for(let[A,[g,v,k]]of Object.entries(Pa))if(i.startsWith(A,n)){if(f)return["$.",!1,i.length-e,!0];n+=A.length,k?s.push(g):r.push(g),a=a||v;continue t}}if(c=!1,f){p>f?r.push(Ce(f)+"-"+Ce(p)):p===f&&r.push(Ce(p)),f="",n++;continue}if(i.startsWith("-]",n+1)){r.push(Ce(p+"-")),n+=2;continue}if(i.startsWith("-",n+1)){f=p,n+=2;continue}r.push(Ce(p)),n++}if(h<n)return["",!1,0,!1];if(!r.length&&!s.length)return["$.",!1,i.length-e,!0];if(s.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!l){let p=r[0].length===2?r[0].slice(-1):r[0];return[Fa(p),!1,h-e,!1]}let u="["+(l?"^":"")+Rs(r)+"]",d="["+(l?"":"^")+Rs(s)+"]";return[r.length&&s.length?"("+u+"|"+d+")":r.length?u:d,a,h-e,!0]};var dt=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");var _a=new Set(["!","?","+","*","@"]),Ds=i=>_a.has(i),Ma="(?!(?:^|/)\\.\\.?(?:$|/))",si="(?!\\.)",La=new Set(["[","."]),Ua=new Set(["..","."]),ja=new Set("().*{}+?[]^$\\!"),za=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),qi="[^/]",Ps=qi+"*?",Fs=qi+"+?",re=class i{type;#t;#i;#n=!1;#r=[];#a;#l;#u;#c=!1;#o;#e;#m=!1;constructor(t,e,r={}){this.type=t,t&&(this.#i=!0),this.#a=e,this.#t=this.#a?this.#a.#t:this,this.#o=this.#t===this?r:this.#t.#o,this.#u=this.#t===this?[]:this.#t.#u,t==="!"&&!this.#t.#c&&this.#u.push(this),this.#l=this.#a?this.#a.#r.length:0}get hasMagic(){if(this.#i!==void 0)return this.#i;for(let t of this.#r)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#i=!0;return this.#i}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#r.map(t=>String(t)).join("|")+")":this.#e=this.#r.map(t=>String(t)).join("")}#A(){if(this!==this.#t)throw new Error("should only call on root");if(this.#c)return this;this.toString(),this.#c=!0;let t;for(;t=this.#u.pop();){if(t.type!=="!")continue;let e=t,r=e.#a;for(;r;){for(let s=e.#l+1;!r.type&&s<r.#r.length;s++)for(let n of t.#r){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(r.#r[s])}e=r,r=e.#a}}return this}push(...t){for(let e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof i&&e.#a===this))throw new Error("invalid part: "+e);this.#r.push(e)}}toJSON(){let t=this.type===null?this.#r.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#r.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#c&&this.#a?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#a?.isStart())return!1;if(this.#l===0)return!0;let t=this.#a;for(let e=0;e<this.#l;e++){let r=t.#r[e];if(!(r instanceof i&&r.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#a?.type==="!")return!0;if(!this.#a?.isEnd())return!1;if(!this.type)return this.#a?.isEnd();let t=this.#a?this.#a.#r.length:0;return this.#l===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let e=new i(this.type,t);for(let r of this.#r)e.copyIn(r);return e}static#d(t,e,r,s){let n=!1,o=!1,a=-1,c=!1;if(e.type===null){let d=r,m="";for(;d<t.length;){let p=t.charAt(d++);if(n||p==="\\"){n=!n,m+=p;continue}if(o){d===a+1?(p==="^"||p==="!")&&(c=!0):p==="]"&&!(d===a+2&&c)&&(o=!1),m+=p;continue}else if(p==="["){o=!0,a=d,c=!1,m+=p;continue}if(!s.noext&&Ds(p)&&t.charAt(d)==="("){e.push(m),m="";let A=new i(p,e);d=i.#d(t,A,d,s),e.push(A);continue}m+=p}return e.push(m),d}let l=r+1,h=new i(null,e),f=[],u="";for(;l<t.length;){let d=t.charAt(l++);if(n||d==="\\"){n=!n,u+=d;continue}if(o){l===a+1?(d==="^"||d==="!")&&(c=!0):d==="]"&&!(l===a+2&&c)&&(o=!1),u+=d;continue}else if(d==="["){o=!0,a=l,c=!1,u+=d;continue}if(Ds(d)&&t.charAt(l)==="("){h.push(u),u="";let m=new i(d,h);h.push(m),l=i.#d(t,m,l,s);continue}if(d==="|"){h.push(u),u="",f.push(h),h=new i(null,e);continue}if(d===")")return u===""&&e.#r.length===0&&(e.#m=!0),h.push(u),u="",e.push(...f,h),l;u+=d}return e.type=null,e.#i=void 0,e.#r=[t.substring(r-1)],l}static fromGlob(t,e={}){let r=new i(null,void 0,e);return i.#d(t,r,0,e),r}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();let t=this.toString(),[e,r,s,n]=this.toRegExpSource();if(!(s||this.#i||this.#o.nocase&&!this.#o.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;let a=(this.#o.nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,a),{_src:e,_glob:t})}toRegExpSource(t){let e=t??!!this.#o.dot;if(this.#t===this&&this.#A(),!this.type){let c=this.isStart()&&this.isEnd(),l=this.#r.map(d=>{let[m,p,A,g]=typeof d=="string"?i.#v(d,this.#i,c):d.toRegExpSource(t);return this.#i=this.#i||A,this.#n=this.#n||g,m}).join(""),h="";if(this.isStart()&&typeof this.#r[0]=="string"&&!(this.#r.length===1&&Ua.has(this.#r[0]))){let m=La,p=e&&m.has(l.charAt(0))||l.startsWith("\\.")&&m.has(l.charAt(2))||l.startsWith("\\.\\.")&&m.has(l.charAt(4)),A=!e&&!t&&m.has(l.charAt(0));h=p?Ma:A?si:""}let f="";return this.isEnd()&&this.#t.#c&&this.#a?.type==="!"&&(f="(?:$|\\/)"),[h+l+f,dt(l),this.#i=!!this.#i,this.#n]}let r=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:",n=this.#f(e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){let c=this.toString();return this.#r=[c],this.type=null,this.#i=void 0,[c,dt(this.toString()),!1,!1]}let o=!r||t||e||!si?"":this.#f(!0);o===n&&(o=""),o&&(n=`(?:${n})(?:${o})*?`);let a="";if(this.type==="!"&&this.#m)a=(this.isStart()&&!e?si:"")+Fs;else{let c=this.type==="!"?"))"+(this.isStart()&&!e&&!t?si:"")+Ps+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=s+n+c}return[a,dt(n),this.#i=!!this.#i,this.#n]}#f(t){return this.#r.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");let[r,s,n,o]=e.toRegExpSource(t);return this.#n=this.#n||o,r}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#v(t,e,r=!1){let s=!1,n="",o=!1;for(let a=0;a<t.length;a++){let c=t.charAt(a);if(s){s=!1,n+=(ja.has(c)?"\\":"")+c;continue}if(c==="\\"){a===t.length-1?n+="\\\\":s=!0;continue}if(c==="["){let[l,h,f,u]=Ns(t,a);if(f){n+=l,o=o||h,a+=f-1,e=e||u;continue}}if(c==="*"){r&&t==="*"?n+=Fs:n+=Ps,e=!0;continue}if(c==="?"){n+=qi,e=!0;continue}n+=za(c)}return[n,dt(t),!!e,o]}};var Dt=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");var q=(i,t,e={})=>(xe(t),!e.nocomment&&t.charAt(0)==="#"?!1:new J(t,e).match(i)),Wa=/^\*+([^+@!?\*\[\(]*)$/,Qa=i=>t=>!t.startsWith(".")&&t.endsWith(i),$a=i=>t=>t.endsWith(i),Va=i=>(i=i.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(i)),Ga=i=>(i=i.toLowerCase(),t=>t.toLowerCase().endsWith(i)),qa=/^\*+\.\*+$/,Xa=i=>!i.startsWith(".")&&i.includes("."),Ha=i=>i!=="."&&i!==".."&&i.includes("."),Za=/^\.\*+$/,Ya=i=>i!=="."&&i!==".."&&i.startsWith("."),Ja=/^\*+$/,Ka=i=>i.length!==0&&!i.startsWith("."),tc=i=>i.length!==0&&i!=="."&&i!=="..",ec=/^\?+([^+@!?\*\[\(]*)?$/,ic=([i,t=""])=>{let e=Us([i]);return t?(t=t.toLowerCase(),r=>e(r)&&r.toLowerCase().endsWith(t)):e},rc=([i,t=""])=>{let e=js([i]);return t?(t=t.toLowerCase(),r=>e(r)&&r.toLowerCase().endsWith(t)):e},sc=([i,t=""])=>{let e=js([i]);return t?r=>e(r)&&r.endsWith(t):e},nc=([i,t=""])=>{let e=Us([i]);return t?r=>e(r)&&r.endsWith(t):e},Us=([i])=>{let t=i.length;return e=>e.length===t&&!e.startsWith(".")},js=([i])=>{let t=i.length;return e=>e.length===t&&e!=="."&&e!==".."},zs=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",_s={win32:{sep:"\\"},posix:{sep:"/"}},oc=zs==="win32"?_s.win32.sep:_s.posix.sep;q.sep=oc;var W=Symbol("globstar **");q.GLOBSTAR=W;var ac="[^/]",cc=ac+"*?",lc="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",hc="(?:(?!(?:\\/|^)\\.).)*?",uc=(i,t={})=>e=>q(e,i,t);q.filter=uc;var nt=(i,t={})=>Object.assign({},i,t),fc=i=>{if(!i||typeof i!="object"||!Object.keys(i).length)return q;let t=q;return Object.assign((r,s,n={})=>t(r,s,nt(i,n)),{Minimatch:class extends t.Minimatch{constructor(s,n={}){super(s,nt(i,n))}static defaults(s){return t.defaults(nt(i,s)).Minimatch}},AST:class extends t.AST{constructor(s,n,o={}){super(s,n,nt(i,o))}static fromGlob(s,n={}){return t.AST.fromGlob(s,nt(i,n))}},unescape:(r,s={})=>t.unescape(r,nt(i,s)),escape:(r,s={})=>t.escape(r,nt(i,s)),filter:(r,s={})=>t.filter(r,nt(i,s)),defaults:r=>t.defaults(nt(i,r)),makeRe:(r,s={})=>t.makeRe(r,nt(i,s)),braceExpand:(r,s={})=>t.braceExpand(r,nt(i,s)),match:(r,s,n={})=>t.match(r,s,nt(i,n)),sep:t.sep,GLOBSTAR:W})};q.defaults=fc;var Ws=(i,t={})=>(xe(i),t.nobrace||!/\{(?:(?!\{).)*\}/.test(i)?[i]:(0,Ls.default)(i));q.braceExpand=Ws;var dc=(i,t={})=>new J(i,t).makeRe();q.makeRe=dc;var pc=(i,t,e={})=>{let r=new J(t,e);return i=i.filter(s=>r.match(s)),r.options.nonull&&!i.length&&i.push(t),i};q.match=pc;var Ms=/[?*]|[+@!]\(.*?\)|\[|\]/,mc=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),J=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){xe(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||zs,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let e of t)if(typeof e!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...n)=>console.error(...n)),this.debug(this.pattern,this.globSet);let r=this.globSet.map(n=>this.slashSplit(n));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let s=this.globParts.map((n,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=n[0]===""&&n[1]===""&&(n[2]==="?"||!Ms.test(n[2]))&&!Ms.test(n[3]),l=/^[a-z]:/i.test(n[0]);if(c)return[...n.slice(0,4),...n.slice(4).map(h=>this.parse(h))];if(l)return[n[0],...n.slice(1).map(h=>this.parse(h))]}return n.map(c=>this.parse(c))});if(this.debug(this.pattern,s),this.set=s.filter(n=>n.indexOf(!1)===-1),this.isWindows)for(let n=0;n<this.set.length;n++){let o=this.set[n];o[0]===""&&o[1]===""&&this.globParts[n][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let r=0;r<t.length;r++)for(let s=0;s<t[r].length;s++)t[r][s]==="**"&&(t[r][s]="*");let{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):e>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let r=-1;for(;(r=e.indexOf("**",r+1))!==-1;){let s=r;for(;e[s+1]==="**";)s++;s!==r&&e.splice(r,s-r)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((r,s)=>{let n=r[r.length-1];return s==="**"&&n==="**"?r:s===".."&&n&&n!==".."&&n!=="."&&n!=="**"?(r.pop(),r):(r.push(s),r)},[]),e.length===0?[""]:e))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let s=1;s<t.length-1;s++){let n=t[s];s===1&&n===""&&t[0]===""||(n==="."||n==="")&&(e=!0,t.splice(s,1),s--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(e=!0,t.pop())}let r=0;for(;(r=t.indexOf("..",r+1))!==-1;){let s=t[r-1];s&&s!=="."&&s!==".."&&s!=="**"&&(e=!0,t.splice(r-1,2),r-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let r of t){let s=-1;for(;(s=r.indexOf("**",s+1))!==-1;){let o=s;for(;r[o+1]==="**";)o++;o>s&&r.splice(s+1,o-s);let a=r[s+1],c=r[s+2],l=r[s+3];if(a!==".."||!c||c==="."||c===".."||!l||l==="."||l==="..")continue;e=!0,r.splice(s,1);let h=r.slice(0);h[s]="**",t.push(h),s--}if(!this.preserveMultipleSlashes){for(let o=1;o<r.length-1;o++){let a=r[o];o===1&&a===""&&r[0]===""||(a==="."||a==="")&&(e=!0,r.splice(o,1),o--)}r[0]==="."&&r.length===2&&(r[1]==="."||r[1]==="")&&(e=!0,r.pop())}let n=0;for(;(n=r.indexOf("..",n+1))!==-1;){let o=r[n-1];if(o&&o!=="."&&o!==".."&&o!=="**"){e=!0;let c=n===1&&r[n+1]==="**"?["."]:[];r.splice(n-1,2,...c),r.length===0&&r.push(""),n-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let r=e+1;r<t.length;r++){let s=this.partsMatch(t[e],t[r],!this.preserveMultipleSlashes);s&&(t[e]=s,t[r]=[])}return t.filter(e=>e.length)}partsMatch(t,e,r=!1){let s=0,n=0,o=[],a="";for(;s<t.length&&n<e.length;)if(t[s]===e[n])o.push(a==="b"?e[n]:t[s]),s++,n++;else if(r&&t[s]==="**"&&e[n]===t[s+1])o.push(t[s]),s++;else if(r&&e[n]==="**"&&t[s]===e[n+1])o.push(e[n]),n++;else if(t[s]==="*"&&e[n]&&(this.options.dot||!e[n].startsWith("."))&&e[n]!=="**"){if(a==="b")return!1;a="a",o.push(t[s]),s++,n++}else if(e[n]==="*"&&t[s]&&(this.options.dot||!t[s].startsWith("."))&&t[s]!=="**"){if(a==="a")return!1;a="b",o.push(e[n]),s++,n++}else return!1;return t.length===e.length&&o}parseNegate(){if(this.nonegate)return;let t=this.pattern,e=!1,r=0;for(let s=0;s<t.length&&t.charAt(s)==="!";s++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(t,e,r=!1){let s=this.options;if(this.isWindows){let p=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),A=!p&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),g=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),v=!g&&e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]),k=A?3:p?0:void 0,y=v?3:g?0:void 0;if(typeof k=="number"&&typeof y=="number"){let[E,B]=[t[k],e[y]];E.toLowerCase()===B.toLowerCase()&&(e[y]=E,y>k?e=e.slice(y):k>y&&(t=t.slice(k)))}}let{optimizationLevel:n=1}=this.options;n>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,a=0,c=t.length,l=e.length;o<c&&a<l;o++,a++){this.debug("matchOne loop");var h=e[a],f=t[o];if(this.debug(e,h,f),h===!1)return!1;if(h===W){this.debug("GLOBSTAR",[e,h,f]);var u=o,d=a+1;if(d===l){for(this.debug("** at the end");o<c;o++)if(t[o]==="."||t[o]===".."||!s.dot&&t[o].charAt(0)===".")return!1;return!0}for(;u<c;){var m=t[u];if(this.debug(`
globstar while`,t,u,e,d,m),this.matchOne(t.slice(u),e.slice(d),r))return this.debug("globstar found match!",u,c,m),!0;if(m==="."||m===".."||!s.dot&&m.charAt(0)==="."){this.debug("dot detected!",t,u,e,d);break}this.debug("globstar swallow a segment, and continue"),u++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,u,e,d),u===c))}let p;if(typeof h=="string"?(p=f===h,this.debug("string match",h,f,p)):(p=h.test(f),this.debug("pattern match",h,f,p)),!p)return!1}if(o===c&&a===l)return!0;if(o===c)return r;if(a===l)return o===c-1&&t[o]==="";throw new Error("wtf?")}braceExpand(){return Ws(this.pattern,this.options)}parse(t){xe(t);let e=this.options;if(t==="**")return W;if(t==="")return"";let r,s=null;(r=t.match(Ja))?s=e.dot?tc:Ka:(r=t.match(Wa))?s=(e.nocase?e.dot?Ga:Va:e.dot?$a:Qa)(r[1]):(r=t.match(ec))?s=(e.nocase?e.dot?rc:ic:e.dot?sc:nc)(r):(r=t.match(qa))?s=e.dot?Ha:Xa:(r=t.match(Za))&&(s=Ya);let n=re.fromGlob(t,this.options).toMMPattern();return s?Object.assign(n,{test:s}):n}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let e=this.options,r=e.noglobstar?cc:e.dot?lc:hc,s=new Set(e.nocase?["i"]:[]),n=t.map(c=>{let l=c.map(h=>{if(h instanceof RegExp)for(let f of h.flags.split(""))s.add(f);return typeof h=="string"?mc(h):h===W?W:h._src});return l.forEach((h,f)=>{let u=l[f+1],d=l[f-1];h!==W||d===W||(d===void 0?u!==void 0&&u!==W?l[f+1]="(?:\\/|"+r+"\\/)?"+u:l[f]=r:u===void 0?l[f-1]=d+"(?:\\/|"+r+")?":u!==W&&(l[f-1]=d+"(?:\\/|\\/"+r+"\\/)"+u,l[f+1]=W))}),l.filter(h=>h!==W).join("/")}).join("|"),[o,a]=t.length>1?["(?:",")"]:["",""];n="^"+o+n+a+"$",this.negate&&(n="^(?!"+n+").+$");try{this.regexp=new RegExp(n,[...s].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;let r=this.options;this.isWindows&&(t=t.split("\\").join("/"));let s=this.slashSplit(t);this.debug(this.pattern,"split",s);let n=this.set;this.debug(this.pattern,"set",n);let o=s[s.length-1];if(!o)for(let a=s.length-2;!o&&a>=0;a--)o=s[a];for(let a=0;a<n.length;a++){let c=n[a],l=s;if(r.matchBase&&c.length===1&&(l=[o]),this.matchOne(l,c,e))return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}static defaults(t){return q.defaults(t).Minimatch}};q.AST=re;q.Minimatch=J;q.escape=Dt;q.unescape=dt;var se=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,$s=new Set,Xi=typeof process=="object"&&process?process:{},Vs=(i,t,e,r)=>{typeof Xi.emitWarning=="function"?Xi.emitWarning(i,t,e,r):console.error(`[${e}] ${t}: ${i}`)},ni=globalThis.AbortController,Qs=globalThis.AbortSignal;if(typeof ni>"u"){Qs=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(r,s){this._onabort.push(s)}},ni=class{constructor(){t()}signal=new Qs;abort(r){if(!this.signal.aborted){this.signal.reason=r,this.signal.aborted=!0;for(let s of this.signal._onabort)s(r);this.signal.onabort?.(r)}}};let i=Xi.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{i&&(i=!1,Vs("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var gc=i=>!$s.has(i),tu=Symbol("type"),Pt=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),Gs=i=>Pt(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?ne:null:null,ne=class extends Array{constructor(t){super(t),this.fill(0)}},Hi=class i{heap;length;static#t=!1;static create(t){let e=Gs(t);if(!e)return[];i.#t=!0;let r=new i(t,e);return i.#t=!1,r}constructor(t,e){if(!i.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},Be=class i{#t;#i;#n;#r;#a;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#u;#c;#o;#e;#m;#A;#d;#f;#v;#g;#x;#C;#y;#w;#T;#p;static unsafeExposeInternals(t){return{starts:t.#C,ttls:t.#y,sizes:t.#x,keyMap:t.#c,keyList:t.#o,valList:t.#e,next:t.#m,prev:t.#A,get head(){return t.#d},get tail(){return t.#f},free:t.#v,isBackgroundFetch:e=>t.#h(e),backgroundFetch:(e,r,s,n)=>t.#P(e,r,s,n),moveToTail:e=>t.#D(e),indexes:e=>t.#E(e),rindexes:e=>t.#O(e),isStale:e=>t.#b(e)}}get max(){return this.#t}get maxSize(){return this.#i}get calculatedSize(){return this.#u}get size(){return this.#l}get fetchMethod(){return this.#a}get dispose(){return this.#n}get disposeAfter(){return this.#r}constructor(t){let{max:e=0,ttl:r,ttlResolution:s=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:c,dispose:l,disposeAfter:h,noDisposeOnSet:f,noUpdateTTL:u,maxSize:d=0,maxEntrySize:m=0,sizeCalculation:p,fetchMethod:A,noDeleteOnFetchRejection:g,noDeleteOnStaleGet:v,allowStaleOnFetchRejection:k,allowStaleOnFetchAbort:y,ignoreFetchAbort:E}=t;if(e!==0&&!Pt(e))throw new TypeError("max option must be a nonnegative integer");let B=e?Gs(e):Array;if(!B)throw new Error("invalid max value: "+e);if(this.#t=e,this.#i=d,this.maxEntrySize=m||this.#i,this.sizeCalculation=p,this.sizeCalculation){if(!this.#i&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(A!==void 0&&typeof A!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#a=A,this.#T=!!A,this.#c=new Map,this.#o=new Array(e).fill(void 0),this.#e=new Array(e).fill(void 0),this.#m=new B(e),this.#A=new B(e),this.#d=0,this.#f=0,this.#v=Hi.create(e),this.#l=0,this.#u=0,typeof l=="function"&&(this.#n=l),typeof h=="function"?(this.#r=h,this.#g=[]):(this.#r=void 0,this.#g=void 0),this.#w=!!this.#n,this.#p=!!this.#r,this.noDisposeOnSet=!!f,this.noUpdateTTL=!!u,this.noDeleteOnFetchRejection=!!g,this.allowStaleOnFetchRejection=!!k,this.allowStaleOnFetchAbort=!!y,this.ignoreFetchAbort=!!E,this.maxEntrySize!==0){if(this.#i!==0&&!Pt(this.#i))throw new TypeError("maxSize must be a positive integer if specified");if(!Pt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#R()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!v,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Pt(s)||s===0?s:1,this.ttlAutopurge=!!n,this.ttl=r||0,this.ttl){if(!Pt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#I()}if(this.#t===0&&this.ttl===0&&this.#i===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#i){let P="LRU_CACHE_UNBOUNDED";gc(P)&&($s.add(P),Vs("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",P,i))}}getRemainingTTL(t){return this.#c.has(t)?1/0:0}#I(){let t=new ne(this.#t),e=new ne(this.#t);this.#y=t,this.#C=e,this.#s=(n,o,a=se.now())=>{if(e[n]=o!==0?a:0,t[n]=o,o!==0&&this.ttlAutopurge){let c=setTimeout(()=>{this.#b(n)&&this.delete(this.#o[n])},o+1);c.unref&&c.unref()}},this.#B=n=>{e[n]=t[n]!==0?se.now():0},this.#k=(n,o)=>{if(t[o]){let a=t[o],c=e[o];if(!a||!c)return;n.ttl=a,n.start=c,n.now=r||s();let l=n.now-c;n.remainingTTL=a-l}};let r=0,s=()=>{let n=se.now();if(this.ttlResolution>0){r=n;let o=setTimeout(()=>r=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{let o=this.#c.get(n);if(o===void 0)return 0;let a=t[o],c=e[o];if(!a||!c)return 1/0;let l=(r||s())-c;return a-l},this.#b=n=>{let o=e[n],a=t[n];return!!a&&!!o&&(r||s())-o>a}}#B=()=>{};#k=()=>{};#s=()=>{};#b=()=>!1;#R(){let t=new ne(this.#t);this.#u=0,this.#x=t,this.#S=e=>{this.#u-=t[e],t[e]=0},this.#_=(e,r,s,n)=>{if(this.#h(r))return 0;if(!Pt(s))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(s=n(r,e),!Pt(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return s},this.#F=(e,r,s)=>{if(t[e]=r,this.#i){let n=this.#i-t[e];for(;this.#u>n;)this.#N(!0)}this.#u+=t[e],s&&(s.entrySize=r,s.totalCalculatedSize=this.#u)}}#S=t=>{};#F=(t,e,r)=>{};#_=(t,e,r,s)=>{if(r||s)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#E({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#f;!(!this.#M(e)||((t||!this.#b(e))&&(yield e),e===this.#d));)e=this.#A[e]}*#O({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#d;!(!this.#M(e)||((t||!this.#b(e))&&(yield e),e===this.#f));)e=this.#m[e]}#M(t){return t!==void 0&&this.#c.get(this.#o[t])===t}*entries(){for(let t of this.#E())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#h(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*rentries(){for(let t of this.#O())this.#e[t]!==void 0&&this.#o[t]!==void 0&&!this.#h(this.#e[t])&&(yield[this.#o[t],this.#e[t]])}*keys(){for(let t of this.#E()){let e=this.#o[t];e!==void 0&&!this.#h(this.#e[t])&&(yield e)}}*rkeys(){for(let t of this.#O()){let e=this.#o[t];e!==void 0&&!this.#h(this.#e[t])&&(yield e)}}*values(){for(let t of this.#E())this.#e[t]!==void 0&&!this.#h(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(let t of this.#O())this.#e[t]!==void 0&&!this.#h(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(let r of this.#E()){let s=this.#e[r],n=this.#h(s)?s.__staleWhileFetching:s;if(n!==void 0&&t(n,this.#o[r],this))return this.get(this.#o[r],e)}}forEach(t,e=this){for(let r of this.#E()){let s=this.#e[r],n=this.#h(s)?s.__staleWhileFetching:s;n!==void 0&&t.call(e,n,this.#o[r],this)}}rforEach(t,e=this){for(let r of this.#O()){let s=this.#e[r],n=this.#h(s)?s.__staleWhileFetching:s;n!==void 0&&t.call(e,n,this.#o[r],this)}}purgeStale(){let t=!1;for(let e of this.#O({allowStale:!0}))this.#b(e)&&(this.delete(this.#o[e]),t=!0);return t}info(t){let e=this.#c.get(t);if(e===void 0)return;let r=this.#e[e],s=this.#h(r)?r.__staleWhileFetching:r;if(s===void 0)return;let n={value:s};if(this.#y&&this.#C){let o=this.#y[e],a=this.#C[e];if(o&&a){let c=o-(se.now()-a);n.ttl=c,n.start=Date.now()}}return this.#x&&(n.size=this.#x[e]),n}dump(){let t=[];for(let e of this.#E({allowStale:!0})){let r=this.#o[e],s=this.#e[e],n=this.#h(s)?s.__staleWhileFetching:s;if(n===void 0||r===void 0)continue;let o={value:n};if(this.#y&&this.#C){o.ttl=this.#y[e];let a=se.now()-this.#C[e];o.start=Math.floor(Date.now()-a)}this.#x&&(o.size=this.#x[e]),t.unshift([r,o])}return t}load(t){this.clear();for(let[e,r]of t){if(r.start){let s=Date.now()-r.start;r.start=se.now()-s}this.set(e,r.value,r)}}set(t,e,r={}){if(e===void 0)return this.delete(t),this;let{ttl:s=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=r,{noUpdateTTL:l=this.noUpdateTTL}=r,h=this.#_(t,e,r.size||0,a);if(this.maxEntrySize&&h>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(t),this;let f=this.#l===0?void 0:this.#c.get(t);if(f===void 0)f=this.#l===0?this.#f:this.#v.length!==0?this.#v.pop():this.#l===this.#t?this.#N(!1):this.#l,this.#o[f]=t,this.#e[f]=e,this.#c.set(t,f),this.#m[this.#f]=f,this.#A[f]=this.#f,this.#f=f,this.#l++,this.#F(f,h,c),c&&(c.set="add"),l=!1;else{this.#D(f);let u=this.#e[f];if(e!==u){if(this.#T&&this.#h(u)){u.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:d}=u;d!==void 0&&!o&&(this.#w&&this.#n?.(d,t,"set"),this.#p&&this.#g?.push([d,t,"set"]))}else o||(this.#w&&this.#n?.(u,t,"set"),this.#p&&this.#g?.push([u,t,"set"]));if(this.#S(f),this.#F(f,h,c),this.#e[f]=e,c){c.set="replace";let d=u&&this.#h(u)?u.__staleWhileFetching:u;d!==void 0&&(c.oldValue=d)}}else c&&(c.set="update")}if(s!==0&&!this.#y&&this.#I(),this.#y&&(l||this.#s(f,s,n),c&&this.#k(c,f)),!o&&this.#p&&this.#g){let u=this.#g,d;for(;d=u?.shift();)this.#r?.(...d)}return this}pop(){try{for(;this.#l;){let t=this.#e[this.#d];if(this.#N(!0),this.#h(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){let t=this.#g,e;for(;e=t?.shift();)this.#r?.(...e)}}}#N(t){let e=this.#d,r=this.#o[e],s=this.#e[e];return this.#T&&this.#h(s)?s.__abortController.abort(new Error("evicted")):(this.#w||this.#p)&&(this.#w&&this.#n?.(s,r,"evict"),this.#p&&this.#g?.push([s,r,"evict"])),this.#S(e),t&&(this.#o[e]=void 0,this.#e[e]=void 0,this.#v.push(e)),this.#l===1?(this.#d=this.#f=0,this.#v.length=0):this.#d=this.#m[e],this.#c.delete(r),this.#l--,e}has(t,e={}){let{updateAgeOnHas:r=this.updateAgeOnHas,status:s}=e,n=this.#c.get(t);if(n!==void 0){let o=this.#e[n];if(this.#h(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#b(n))s&&(s.has="stale",this.#k(s,n));else return r&&this.#B(n),s&&(s.has="hit",this.#k(s,n)),!0}else s&&(s.has="miss");return!1}peek(t,e={}){let{allowStale:r=this.allowStale}=e,s=this.#c.get(t);if(s===void 0||!r&&this.#b(s))return;let n=this.#e[s];return this.#h(n)?n.__staleWhileFetching:n}#P(t,e,r,s){let n=e===void 0?void 0:this.#e[e];if(this.#h(n))return n;let o=new ni,{signal:a}=r;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let c={signal:o.signal,options:r,context:s},l=(p,A=!1)=>{let{aborted:g}=o.signal,v=r.ignoreFetchAbort&&p!==void 0;if(r.status&&(g&&!A?(r.status.fetchAborted=!0,r.status.fetchError=o.signal.reason,v&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),g&&!v&&!A)return f(o.signal.reason);let k=d;return this.#e[e]===d&&(p===void 0?k.__staleWhileFetching?this.#e[e]=k.__staleWhileFetching:this.delete(t):(r.status&&(r.status.fetchUpdated=!0),this.set(t,p,c.options))),p},h=p=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=p),f(p)),f=p=>{let{aborted:A}=o.signal,g=A&&r.allowStaleOnFetchAbort,v=g||r.allowStaleOnFetchRejection,k=v||r.noDeleteOnFetchRejection,y=d;if(this.#e[e]===d&&(!k||y.__staleWhileFetching===void 0?this.delete(t):g||(this.#e[e]=y.__staleWhileFetching)),v)return r.status&&y.__staleWhileFetching!==void 0&&(r.status.returnedStale=!0),y.__staleWhileFetching;if(y.__returned===y)throw p},u=(p,A)=>{let g=this.#a?.(t,n,c);g&&g instanceof Promise&&g.then(v=>p(v===void 0?void 0:v),A),o.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(p(void 0),r.allowStaleOnFetchAbort&&(p=v=>l(v,!0)))})};r.status&&(r.status.fetchDispatched=!0);let d=new Promise(u).then(l,h),m=Object.assign(d,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return e===void 0?(this.set(t,m,{...c.options,status:void 0}),e=this.#c.get(t)):this.#e[e]=m,m}#h(t){if(!this.#T)return!1;let e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof ni}async fetch(t,e={}){let{allowStale:r=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:m=this.allowStaleOnFetchAbort,context:p,forceRefresh:A=!1,status:g,signal:v}=e;if(!this.#T)return g&&(g.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:s,noDeleteOnStaleGet:n,status:g});let k={allowStale:r,updateAgeOnGet:s,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:a,size:c,sizeCalculation:l,noUpdateTTL:h,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:m,ignoreFetchAbort:d,status:g,signal:v},y=this.#c.get(t);if(y===void 0){g&&(g.fetch="miss");let E=this.#P(t,y,k,p);return E.__returned=E}else{let E=this.#e[y];if(this.#h(E)){let kt=r&&E.__staleWhileFetching!==void 0;return g&&(g.fetch="inflight",kt&&(g.returnedStale=!0)),kt?E.__staleWhileFetching:E.__returned=E}let B=this.#b(y);if(!A&&!B)return g&&(g.fetch="hit"),this.#D(y),s&&this.#B(y),g&&this.#k(g,y),E;let P=this.#P(t,y,k,p),R=P.__staleWhileFetching!==void 0&&r;return g&&(g.fetch=B?"stale":"refresh",R&&B&&(g.returnedStale=!0)),R?P.__staleWhileFetching:P.__returned=P}}get(t,e={}){let{allowStale:r=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=e,a=this.#c.get(t);if(a!==void 0){let c=this.#e[a],l=this.#h(c);return o&&this.#k(o,a),this.#b(a)?(o&&(o.get="stale"),l?(o&&r&&c.__staleWhileFetching!==void 0&&(o.returnedStale=!0),r?c.__staleWhileFetching:void 0):(n||this.delete(t),o&&r&&(o.returnedStale=!0),r?c:void 0)):(o&&(o.get="hit"),l?c.__staleWhileFetching:(this.#D(a),s&&this.#B(a),c))}else o&&(o.get="miss")}#L(t,e){this.#A[e]=t,this.#m[t]=e}#D(t){t!==this.#f&&(t===this.#d?this.#d=this.#m[t]:this.#L(this.#A[t],this.#m[t]),this.#L(this.#f,t),this.#f=t)}delete(t){let e=!1;if(this.#l!==0){let r=this.#c.get(t);if(r!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#S(r);let s=this.#e[r];if(this.#h(s)?s.__abortController.abort(new Error("deleted")):(this.#w||this.#p)&&(this.#w&&this.#n?.(s,t,"delete"),this.#p&&this.#g?.push([s,t,"delete"])),this.#c.delete(t),this.#o[r]=void 0,this.#e[r]=void 0,r===this.#f)this.#f=this.#A[r];else if(r===this.#d)this.#d=this.#m[r];else{let n=this.#A[r];this.#m[n]=this.#m[r];let o=this.#m[r];this.#A[o]=this.#A[r]}this.#l--,this.#v.push(r)}}if(this.#p&&this.#g?.length){let r=this.#g,s;for(;s=r?.shift();)this.#r?.(...s)}return e}clear(){for(let t of this.#O({allowStale:!0})){let e=this.#e[t];if(this.#h(e))e.__abortController.abort(new Error("deleted"));else{let r=this.#o[t];this.#w&&this.#n?.(e,r,"delete"),this.#p&&this.#g?.push([e,r,"delete"])}}if(this.#c.clear(),this.#e.fill(void 0),this.#o.fill(void 0),this.#y&&this.#C&&(this.#y.fill(0),this.#C.fill(0)),this.#x&&this.#x.fill(0),this.#d=0,this.#f=0,this.#v.length=0,this.#u=0,this.#l=0,this.#p&&this.#g){let t=this.#g,e;for(;e=t?.shift();)this.#r?.(...e)}}};var ce=require("path"),rn=require("url"),Cc=te(require("fs"),1),vt=require("fs"),Mt=require("fs/promises");var fi=require("events"),ir=te(require("stream"),1),Ys=require("string_decoder"),qs=typeof process=="object"&&process?process:{stdout:null,stderr:null},Ac=i=>!!i&&typeof i=="object"&&(i instanceof _t||i instanceof ir.default||bc(i)||wc(i)),bc=i=>!!i&&typeof i=="object"&&i instanceof fi.EventEmitter&&typeof i.pipe=="function"&&i.pipe!==ir.default.Writable.prototype.pipe,wc=i=>!!i&&typeof i=="object"&&i instanceof fi.EventEmitter&&typeof i.write=="function"&&typeof i.end=="function",xt=Symbol("EOF"),Ct=Symbol("maybeEmitEnd"),Ft=Symbol("emittedEnd"),oi=Symbol("emittingEnd"),Te=Symbol("emittedError"),ai=Symbol("closed"),Xs=Symbol("read"),ci=Symbol("flush"),Hs=Symbol("flushChunk"),pt=Symbol("encoding"),oe=Symbol("decoder"),_=Symbol("flowing"),Oe=Symbol("paused"),ae=Symbol("resume"),M=Symbol("buffer"),X=Symbol("pipes"),L=Symbol("bufferLength"),Zi=Symbol("bufferPush"),li=Symbol("bufferShift"),V=Symbol("objectMode"),I=Symbol("destroyed"),Yi=Symbol("error"),Ji=Symbol("emitData"),Zs=Symbol("emitEnd"),Ki=Symbol("emitEnd2"),bt=Symbol("async"),tr=Symbol("abort"),hi=Symbol("aborted"),Ie=Symbol("signal"),qt=Symbol("dataListeners"),K=Symbol("discarded"),Re=i=>Promise.resolve().then(i),vc=i=>i(),yc=i=>i==="end"||i==="finish"||i==="prefinish",kc=i=>i instanceof ArrayBuffer||!!i&&typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,Sc=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i),ui=class{src;dest;opts;ondrain;constructor(t,e,r){this.src=t,this.dest=e,this.opts=r,this.ondrain=()=>t[ae](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},er=class extends ui{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,r){super(t,e,r),this.proxyErrors=s=>e.emit("error",s),t.on("error",this.proxyErrors)}},Ec=i=>!!i.objectMode,xc=i=>!i.objectMode&&!!i.encoding&&i.encoding!=="buffer",_t=class extends fi.EventEmitter{[_]=!1;[Oe]=!1;[X]=[];[M]=[];[V];[pt];[bt];[oe];[xt]=!1;[Ft]=!1;[oi]=!1;[ai]=!1;[Te]=null;[L]=0;[I]=!1;[Ie];[hi]=!1;[qt]=0;[K]=!1;writable=!0;readable=!0;constructor(...t){let e=t[0]||{};if(super(),e.objectMode&&typeof e.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");Ec(e)?(this[V]=!0,this[pt]=null):xc(e)?(this[pt]=e.encoding,this[V]=!1):(this[V]=!1,this[pt]=null),this[bt]=!!e.async,this[oe]=this[pt]?new Ys.StringDecoder(this[pt]):null,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[M]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[X]});let{signal:r}=e;r&&(this[Ie]=r,r.aborted?this[tr]():r.addEventListener("abort",()=>this[tr]()))}get bufferLength(){return this[L]}get encoding(){return this[pt]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[V]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[bt]}set async(t){this[bt]=this[bt]||!!t}[tr](){this[hi]=!0,this.emit("abort",this[Ie]?.reason),this.destroy(this[Ie]?.reason)}get aborted(){return this[hi]}set aborted(t){}write(t,e,r){if(this[hi])return!1;if(this[xt])throw new Error("write after end");if(this[I])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(r=e,e="utf8"),e||(e="utf8");let s=this[bt]?Re:vc;if(!this[V]&&!Buffer.isBuffer(t)){if(Sc(t))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if(kc(t))t=Buffer.from(t);else if(typeof t!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[V]?(this[_]&&this[L]!==0&&this[ci](!0),this[_]?this.emit("data",t):this[Zi](t),this[L]!==0&&this.emit("readable"),r&&s(r),this[_]):t.length?(typeof t=="string"&&!(e===this[pt]&&!this[oe]?.lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[pt]&&(t=this[oe].write(t)),this[_]&&this[L]!==0&&this[ci](!0),this[_]?this.emit("data",t):this[Zi](t),this[L]!==0&&this.emit("readable"),r&&s(r),this[_]):(this[L]!==0&&this.emit("readable"),r&&s(r),this[_])}read(t){if(this[I])return null;if(this[K]=!1,this[L]===0||t===0||t&&t>this[L])return this[Ct](),null;this[V]&&(t=null),this[M].length>1&&!this[V]&&(this[M]=[this[pt]?this[M].join(""):Buffer.concat(this[M],this[L])]);let e=this[Xs](t||null,this[M][0]);return this[Ct](),e}[Xs](t,e){if(this[V])this[li]();else{let r=e;t===r.length||t===null?this[li]():typeof r=="string"?(this[M][0]=r.slice(t),e=r.slice(0,t),this[L]-=t):(this[M][0]=r.subarray(t),e=r.subarray(0,t),this[L]-=t)}return this.emit("data",e),!this[M].length&&!this[xt]&&this.emit("drain"),e}end(t,e,r){return typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e="utf8"),t!==void 0&&this.write(t,e),r&&this.once("end",r),this[xt]=!0,this.writable=!1,(this[_]||!this[Oe])&&this[Ct](),this}[ae](){this[I]||(!this[qt]&&!this[X].length&&(this[K]=!0),this[Oe]=!1,this[_]=!0,this.emit("resume"),this[M].length?this[ci]():this[xt]?this[Ct]():this.emit("drain"))}resume(){return this[ae]()}pause(){this[_]=!1,this[Oe]=!0,this[K]=!1}get destroyed(){return this[I]}get flowing(){return this[_]}get paused(){return this[Oe]}[Zi](t){this[V]?this[L]+=1:this[L]+=t.length,this[M].push(t)}[li](){return this[V]?this[L]-=1:this[L]-=this[M][0].length,this[M].shift()}[ci](t=!1){do;while(this[Hs](this[li]())&&this[M].length);!t&&!this[M].length&&!this[xt]&&this.emit("drain")}[Hs](t){return this.emit("data",t),this[_]}pipe(t,e){if(this[I])return t;this[K]=!1;let r=this[Ft];return e=e||{},t===qs.stdout||t===qs.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,r?e.end&&t.end():(this[X].push(e.proxyErrors?new er(this,t,e):new ui(this,t,e)),this[bt]?Re(()=>this[ae]()):this[ae]()),t}unpipe(t){let e=this[X].find(r=>r.dest===t);e&&(this[X].length===1?(this[_]&&this[qt]===0&&(this[_]=!1),this[X]=[]):this[X].splice(this[X].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){let r=super.on(t,e);if(t==="data")this[K]=!1,this[qt]++,!this[X].length&&!this[_]&&this[ae]();else if(t==="readable"&&this[L]!==0)super.emit("readable");else if(yc(t)&&this[Ft])super.emit(t),this.removeAllListeners(t);else if(t==="error"&&this[Te]){let s=e;this[bt]?Re(()=>s.call(this,this[Te])):s.call(this,this[Te])}return r}removeListener(t,e){return this.off(t,e)}off(t,e){let r=super.off(t,e);return t==="data"&&(this[qt]=this.listeners("data").length,this[qt]===0&&!this[K]&&!this[X].length&&(this[_]=!1)),r}removeAllListeners(t){let e=super.removeAllListeners(t);return(t==="data"||t===void 0)&&(this[qt]=0,!this[K]&&!this[X].length&&(this[_]=!1)),e}get emittedEnd(){return this[Ft]}[Ct](){!this[oi]&&!this[Ft]&&!this[I]&&this[M].length===0&&this[xt]&&(this[oi]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ai]&&this.emit("close"),this[oi]=!1)}emit(t,...e){let r=e[0];if(t!=="error"&&t!=="close"&&t!==I&&this[I])return!1;if(t==="data")return!this[V]&&!r?!1:this[bt]?(Re(()=>this[Ji](r)),!0):this[Ji](r);if(t==="end")return this[Zs]();if(t==="close"){if(this[ai]=!0,!this[Ft]&&!this[I])return!1;let n=super.emit("close");return this.removeAllListeners("close"),n}else if(t==="error"){this[Te]=r,super.emit(Yi,r);let n=!this[Ie]||this.listeners("error").length?super.emit("error",r):!1;return this[Ct](),n}else if(t==="resume"){let n=super.emit("resume");return this[Ct](),n}else if(t==="finish"||t==="prefinish"){let n=super.emit(t);return this.removeAllListeners(t),n}let s=super.emit(t,...e);return this[Ct](),s}[Ji](t){for(let r of this[X])r.dest.write(t)===!1&&this.pause();let e=this[K]?!1:super.emit("data",t);return this[Ct](),e}[Zs](){return this[Ft]?!1:(this[Ft]=!0,this.readable=!1,this[bt]?(Re(()=>this[Ki]()),!0):this[Ki]())}[Ki](){if(this[oe]){let e=this[oe].end();if(e){for(let r of this[X])r.dest.write(e);this[K]||super.emit("data",e)}}for(let e of this[X])e.end();let t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){let t=Object.assign([],{dataLength:0});this[V]||(t.dataLength=0);let e=this.promise();return this.on("data",r=>{t.push(r),this[V]||(t.dataLength+=r.length)}),await e,t}async concat(){if(this[V])throw new Error("cannot concat in objectMode");let t=await this.collect();return this[pt]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise((t,e)=>{this.on(I,()=>e(new Error("stream destroyed"))),this.on("error",r=>e(r)),this.on("end",()=>t())})}[Symbol.asyncIterator](){this[K]=!1;let t=!1,e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();let s=this.read();if(s!==null)return Promise.resolve({done:!1,value:s});if(this[xt])return e();let n,o,a=f=>{this.off("data",c),this.off("end",l),this.off(I,h),e(),o(f)},c=f=>{this.off("error",a),this.off("end",l),this.off(I,h),this.pause(),n({value:f,done:!!this[xt]})},l=()=>{this.off("error",a),this.off("data",c),this.off(I,h),e(),n({done:!0,value:void 0})},h=()=>a(new Error("stream destroyed"));return new Promise((f,u)=>{o=u,n=f,this.once(I,h),this.once("error",a),this.once("end",l),this.once("data",c)})},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[K]=!1;let t=!1,e=()=>(this.pause(),this.off(Yi,e),this.off(I,e),this.off("end",e),t=!0,{done:!0,value:void 0}),r=()=>{if(t)return e();let s=this.read();return s===null?e():{done:!1,value:s}};return this.once("end",e),this.once(Yi,e),this.once(I,e),{next:r,throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){if(this[I])return t?this.emit("error",t):this.emit(I),this;this[I]=!0,this[K]=!0,this[M].length=0,this[L]=0;let e=this;return typeof e.close=="function"&&!this[ai]&&e.close(),t?this.emit("error",t):this.emit(I),this}static get isStream(){return Ac}};var Bc=vt.realpathSync.native,De={lstatSync:vt.lstatSync,readdir:vt.readdir,readdirSync:vt.readdirSync,readlinkSync:vt.readlinkSync,realpathSync:Bc,promises:{lstat:Mt.lstat,readdir:Mt.readdir,readlink:Mt.readlink,realpath:Mt.realpath}},sn=i=>!i||i===De||i===Cc?De:{...De,...i,promises:{...De.promises,...i.promises||{}}},nn=/^\\\\\?\\([a-z]:)\\?$/i,Tc=i=>i.replace(/\//g,"\\").replace(nn,"$1\\"),Oc=/[\\\/]/,at=0,on=1,an=2,wt=4,cn=6,ln=8,Xt=10,hn=12,ot=15,Ne=~ot,rr=16,Js=32,Pe=64,mt=128,di=256,mi=512,Ks=Pe|mt|mi,Ic=1023,sr=i=>i.isFile()?ln:i.isDirectory()?wt:i.isSymbolicLink()?Xt:i.isCharacterDevice()?an:i.isBlockDevice()?cn:i.isSocket()?hn:i.isFIFO()?on:at,tn=new Map,Fe=i=>{let t=tn.get(i);if(t)return t;let e=i.normalize("NFKD");return tn.set(i,e),e},en=new Map,pi=i=>{let t=en.get(i);if(t)return t;let e=Fe(i.toLowerCase());return en.set(i,e),e},gi=class extends Be{constructor(){super({max:256})}},nr=class extends Be{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}},un=Symbol("PathScurry setAsCwd"),G=class{name;root;roots;parent;nocase;#t;#i;get dev(){return this.#i}#n;get mode(){return this.#n}#r;get nlink(){return this.#r}#a;get uid(){return this.#a}#l;get gid(){return this.#l}#u;get rdev(){return this.#u}#c;get blksize(){return this.#c}#o;get ino(){return this.#o}#e;get size(){return this.#e}#m;get blocks(){return this.#m}#A;get atimeMs(){return this.#A}#d;get mtimeMs(){return this.#d}#f;get ctimeMs(){return this.#f}#v;get birthtimeMs(){return this.#v}#g;get atime(){return this.#g}#x;get mtime(){return this.#x}#C;get ctime(){return this.#C}#y;get birthtime(){return this.#y}#w;#T;#p;#I;#B;#k;#s;#b;#R;#S;get path(){return(this.parent||this).fullpath()}constructor(t,e=at,r,s,n,o,a){this.name=t,this.#w=n?pi(t):Fe(t),this.#s=e&Ic,this.nocase=n,this.roots=s,this.root=r||this,this.#b=o,this.#p=a.fullpath,this.#B=a.relative,this.#k=a.relativePosix,this.parent=a.parent,this.parent?this.#t=this.parent.#t:this.#t=sn(a.fs)}depth(){return this.#T!==void 0?this.#T:this.parent?this.#T=this.parent.depth()+1:this.#T=0}childrenCache(){return this.#b}resolve(t){if(!t)return this;let e=this.getRootString(t),s=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#F(s):this.#F(s)}#F(t){let e=this;for(let r of t)e=e.child(r);return e}children(){let t=this.#b.get(this);if(t)return t;let e=Object.assign([],{provisional:0});return this.#b.set(this,e),this.#s&=~rr,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;let r=this.children(),s=this.nocase?pi(t):Fe(t);for(let c of r)if(c.#w===s)return c;let n=this.parent?this.sep:"",o=this.#p?this.#p+n+t:void 0,a=this.newChild(t,at,{...e,parent:this,fullpath:o});return this.canReaddir()||(a.#s|=mt),r.push(a),a}relative(){if(this.#B!==void 0)return this.#B;let t=this.name,e=this.parent;if(!e)return this.#B=this.name;let r=e.relative();return r+(!r||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#k!==void 0)return this.#k;let t=this.name,e=this.parent;if(!e)return this.#k=this.fullpathPosix();let r=e.relativePosix();return r+(!r||!e.parent?"":"/")+t}fullpath(){if(this.#p!==void 0)return this.#p;let t=this.name,e=this.parent;if(!e)return this.#p=this.name;let s=e.fullpath()+(e.parent?this.sep:"")+t;return this.#p=s}fullpathPosix(){if(this.#I!==void 0)return this.#I;if(this.sep==="/")return this.#I=this.fullpath();if(!this.parent){let s=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(s)?this.#I=`//?/${s}`:this.#I=s}let t=this.parent,e=t.fullpathPosix(),r=e+(!e||!t.parent?"":"/")+this.name;return this.#I=r}isUnknown(){return(this.#s&ot)===at}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#s&ot)===ln}isDirectory(){return(this.#s&ot)===wt}isCharacterDevice(){return(this.#s&ot)===an}isBlockDevice(){return(this.#s&ot)===cn}isFIFO(){return(this.#s&ot)===on}isSocket(){return(this.#s&ot)===hn}isSymbolicLink(){return(this.#s&Xt)===Xt}lstatCached(){return this.#s&Js?this:void 0}readlinkCached(){return this.#R}realpathCached(){return this.#S}readdirCached(){let t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#R)return!0;if(!this.parent)return!1;let t=this.#s&ot;return!(t!==at&&t!==Xt||this.#s&di||this.#s&mt)}calledReaddir(){return!!(this.#s&rr)}isENOENT(){return!!(this.#s&mt)}isNamed(t){return this.nocase?this.#w===pi(t):this.#w===Fe(t)}async readlink(){let t=this.#R;if(t)return t;if(this.canReadlink()&&this.parent)try{let e=await this.#t.promises.readlink(this.fullpath()),r=this.parent.resolve(e);if(r)return this.#R=r}catch(e){this.#L(e.code);return}}readlinkSync(){let t=this.#R;if(t)return t;if(this.canReadlink()&&this.parent)try{let e=this.#t.readlinkSync(this.fullpath()),r=this.parent.resolve(e);if(r)return this.#R=r}catch(e){this.#L(e.code);return}}#_(t){this.#s|=rr;for(let e=t.provisional;e<t.length;e++)t[e].#E()}#E(){this.#s&mt||(this.#s=(this.#s|mt)&Ne,this.#O())}#O(){let t=this.children();t.provisional=0;for(let e of t)e.#E()}#M(){this.#s|=mi,this.#N()}#N(){if(this.#s&Pe)return;let t=this.#s;(t&ot)===wt&&(t&=Ne),this.#s=t|Pe,this.#O()}#P(t=""){t==="ENOTDIR"||t==="EPERM"?this.#N():t==="ENOENT"?this.#E():this.children().provisional=0}#h(t=""){t==="ENOTDIR"?this.parent.#N():t==="ENOENT"&&this.#E()}#L(t=""){let e=this.#s;e|=di,t==="ENOENT"&&(e|=mt),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Ne),this.#s=e,t==="ENOTDIR"&&this.parent&&this.parent.#N()}#D(t,e){return this.#$(t,e)||this.#Q(t,e)}#Q(t,e){let r=sr(t),s=this.newChild(t.name,r,{parent:this}),n=s.#s&ot;return n!==wt&&n!==Xt&&n!==at&&(s.#s|=Pe),e.unshift(s),e.provisional++,s}#$(t,e){for(let r=e.provisional;r<e.length;r++){let s=e[r];if((this.nocase?pi(t.name):Fe(t.name))===s.#w)return this.#V(t,s,r,e)}}#V(t,e,r,s){let n=e.name;return e.#s=e.#s&Ne|sr(t),n!==t.name&&(e.name=t.name),r!==s.provisional&&(r===s.length-1?s.pop():s.splice(r,1),s.unshift(e)),s.provisional++,e}async lstat(){if(!(this.#s&mt))try{return this.#W(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#h(t.code)}}lstatSync(){if(!(this.#s&mt))try{return this.#W(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#h(t.code)}}#W(t){let{atime:e,atimeMs:r,birthtime:s,birthtimeMs:n,blksize:o,blocks:a,ctime:c,ctimeMs:l,dev:h,gid:f,ino:u,mode:d,mtime:m,mtimeMs:p,nlink:A,rdev:g,size:v,uid:k}=t;this.#g=e,this.#A=r,this.#y=s,this.#v=n,this.#c=o,this.#m=a,this.#C=c,this.#f=l,this.#i=h,this.#l=f,this.#o=u,this.#n=d,this.#x=m,this.#d=p,this.#r=A,this.#u=g,this.#e=v,this.#a=k;let y=sr(t);this.#s=this.#s&Ne|y|Js,y!==at&&y!==wt&&y!==Xt&&(this.#s|=Pe)}#j=[];#z=!1;#G(t){this.#z=!1;let e=this.#j.slice();this.#j.length=0,e.forEach(r=>r(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}let r=this.children();if(this.calledReaddir()){let n=r.slice(0,r.provisional);e?t(null,n):queueMicrotask(()=>t(null,n));return}if(this.#j.push(t),this.#z)return;this.#z=!0;let s=this.fullpath();this.#t.readdir(s,{withFileTypes:!0},(n,o)=>{if(n)this.#P(n.code),r.provisional=0;else{for(let a of o)this.#D(a,r);this.#_(r)}this.#G(r.slice(0,r.provisional))})}#U;async readdir(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();if(this.#U)await this.#U;else{let r=()=>{};this.#U=new Promise(s=>r=s);try{for(let s of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#D(s,t);this.#_(t)}catch(s){this.#P(s.code),t.provisional=0}this.#U=void 0,r()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();try{for(let r of this.#t.readdirSync(e,{withFileTypes:!0}))this.#D(r,t);this.#_(t)}catch(r){this.#P(r.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#s&Ks)return!1;let t=ot&this.#s;return t===at||t===wt||t===Xt}shouldWalk(t,e){return(this.#s&wt)===wt&&!(this.#s&Ks)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#S)return this.#S;if(!((mi|di|mt)&this.#s))try{let t=await this.#t.promises.realpath(this.fullpath());return this.#S=this.resolve(t)}catch{this.#M()}}realpathSync(){if(this.#S)return this.#S;if(!((mi|di|mt)&this.#s))try{let t=this.#t.realpathSync(this.fullpath());return this.#S=this.resolve(t)}catch{this.#M()}}[un](t){if(t===this)return;let e=new Set([]),r=[],s=this;for(;s&&s.parent;)e.add(s),s.#B=r.join(this.sep),s.#k=r.join("/"),s=s.parent,r.push("..");for(s=t;s&&s.parent&&!e.has(s);)s.#B=void 0,s.#k=void 0,s=s.parent}},Ai=class i extends G{sep="\\";splitSep=Oc;constructor(t,e=at,r,s,n,o,a){super(t,e,r,s,n,o,a)}newChild(t,e=at,r={}){return new i(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}getRootString(t){return ce.win32.parse(t).root}getRoot(t){if(t=Tc(t.toUpperCase()),t===this.root.name)return this.root;for(let[e,r]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=r;return this.roots[t]=new le(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(nn,"$1\\"),t===e}},bi=class i extends G{splitSep="/";sep="/";constructor(t,e=at,r,s,n,o,a){super(t,e,r,s,n,o,a)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=at,r={}){return new i(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}},wi=class{root;rootPath;roots;cwd;#t;#i;#n;nocase;#r;constructor(t=process.cwd(),e,r,{nocase:s,childrenCacheSize:n=16*1024,fs:o=De}={}){this.#r=sn(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,rn.fileURLToPath)(t));let a=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#t=new gi,this.#i=new gi,this.#n=new nr(n);let c=a.substring(this.rootPath.length).split(r);if(c.length===1&&!c[0]&&c.pop(),s===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=s,this.root=this.newRoot(this.#r),this.roots[this.rootPath]=this.root;let l=this.root,h=c.length-1,f=e.sep,u=this.rootPath,d=!1;for(let m of c){let p=h--;l=l.child(m,{relative:new Array(p).fill("..").join(f),relativePosix:new Array(p).fill("..").join("/"),fullpath:u+=(d?"":f)+m}),d=!0}this.cwd=l}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#n}resolve(...t){let e="";for(let n=t.length-1;n>=0;n--){let o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}let r=this.#t.get(e);if(r!==void 0)return r;let s=this.cwd.resolve(e).fullpath();return this.#t.set(e,s),s}resolvePosix(...t){let e="";for(let n=t.length-1;n>=0;n--){let o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}let r=this.#i.get(e);if(r!==void 0)return r;let s=this.cwd.resolve(e).fullpathPosix();return this.#i.set(e,s),s}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof G||(e=t,t=this.cwd);let{withFileTypes:r}=e;if(t.canReaddir()){let s=await t.readdir();return r?s:s.map(n=>n.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof G||(e=t,t=this.cwd);let{withFileTypes:r=!0}=e;return t.canReaddir()?r?t.readdirSync():t.readdirSync().map(s=>s.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof G||(e=t.withFileTypes,t=this.cwd);let r=await t.readlink();return e?r:r?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof G||(e=t.withFileTypes,t=this.cwd);let r=t.readlinkSync();return e?r:r?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof G||(e=t.withFileTypes,t=this.cwd);let r=await t.realpath();return e?r:r?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof G||(e=t.withFileTypes,t=this.cwd);let r=t.realpathSync();return e?r:r?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof G||(e=t,t=this.cwd);let{withFileTypes:r=!0,follow:s=!1,filter:n,walkFilter:o}=e,a=[];(!n||n(t))&&a.push(r?t:t.fullpath());let c=new Set,l=(f,u)=>{c.add(f),f.readdirCB((d,m)=>{if(d)return u(d);let p=m.length;if(!p)return u();let A=()=>{--p===0&&u()};for(let g of m)(!n||n(g))&&a.push(r?g:g.fullpath()),s&&g.isSymbolicLink()?g.realpath().then(v=>v?.isUnknown()?v.lstat():v).then(v=>v?.shouldWalk(c,o)?l(v,A):A()):g.shouldWalk(c,o)?l(g,A):A()},!0)},h=t;return new Promise((f,u)=>{l(h,d=>{if(d)return u(d);f(a)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof G||(e=t,t=this.cwd);let{withFileTypes:r=!0,follow:s=!1,filter:n,walkFilter:o}=e,a=[];(!n||n(t))&&a.push(r?t:t.fullpath());let c=new Set([t]);for(let l of c){let h=l.readdirSync();for(let f of h){(!n||n(f))&&a.push(r?f:f.fullpath());let u=f;if(f.isSymbolicLink()){if(!(s&&(u=f.realpathSync())))continue;u.isUnknown()&&u.lstatSync()}u.shouldWalk(c,o)&&c.add(u)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof G||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof G||(e=t,t=this.cwd);let{withFileTypes:r=!0,follow:s=!1,filter:n,walkFilter:o}=e;(!n||n(t))&&(yield r?t:t.fullpath());let a=new Set([t]);for(let c of a){let l=c.readdirSync();for(let h of l){(!n||n(h))&&(yield r?h:h.fullpath());let f=h;if(h.isSymbolicLink()){if(!(s&&(f=h.realpathSync())))continue;f.isUnknown()&&f.lstatSync()}f.shouldWalk(a,o)&&a.add(f)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof G||(e=t,t=this.cwd);let{withFileTypes:r=!0,follow:s=!1,filter:n,walkFilter:o}=e,a=new _t({objectMode:!0});(!n||n(t))&&a.write(r?t:t.fullpath());let c=new Set,l=[t],h=0,f=()=>{let u=!1;for(;!u;){let d=l.shift();if(!d){h===0&&a.end();return}h++,c.add(d);let m=(A,g,v=!1)=>{if(A)return a.emit("error",A);if(s&&!v){let k=[];for(let y of g)y.isSymbolicLink()&&k.push(y.realpath().then(E=>E?.isUnknown()?E.lstat():E));if(k.length){Promise.all(k).then(()=>m(null,g,!0));return}}for(let k of g)k&&(!n||n(k))&&(a.write(r?k:k.fullpath())||(u=!0));h--;for(let k of g){let y=k.realpathCached()||k;y.shouldWalk(c,o)&&l.push(y)}u&&!a.flowing?a.once("drain",f):p||f()},p=!0;d.readdirCB(m,!0),p=!1}};return f(),a}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof G||(e=t,t=this.cwd);let{withFileTypes:r=!0,follow:s=!1,filter:n,walkFilter:o}=e,a=new _t({objectMode:!0}),c=new Set;(!n||n(t))&&a.write(r?t:t.fullpath());let l=[t],h=0,f=()=>{let u=!1;for(;!u;){let d=l.shift();if(!d){h===0&&a.end();return}h++,c.add(d);let m=d.readdirSync();for(let p of m)(!n||n(p))&&(a.write(r?p:p.fullpath())||(u=!0));h--;for(let p of m){let A=p;if(p.isSymbolicLink()){if(!(s&&(A=p.realpathSync())))continue;A.isUnknown()&&A.lstatSync()}A.shouldWalk(c,o)&&l.push(A)}}u&&!a.flowing&&a.once("drain",f)};return f(),a}chdir(t=this.cwd){let e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[un](e)}},le=class extends wi{sep="\\";constructor(t=process.cwd(),e={}){let{nocase:r=!0}=e;super(t,ce.win32,"\\",{...e,nocase:r}),this.nocase=r;for(let s=this.cwd;s;s=s.parent)s.nocase=this.nocase}parseRootPath(t){return ce.win32.parse(t).root.toUpperCase()}newRoot(t){return new Ai(this.rootPath,wt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}},he=class extends wi{sep="/";constructor(t=process.cwd(),e={}){let{nocase:r=!1}=e;super(t,ce.posix,"/",{...e,nocase:r}),this.nocase=r}parseRootPath(t){return"/"}newRoot(t){return new bi(this.rootPath,wt,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}},_e=class extends he{constructor(t=process.cwd(),e={}){let{nocase:r=!0}=e;super(t,{...e,nocase:r})}},nu=process.platform==="win32"?Ai:bi,fn=process.platform==="win32"?le:process.platform==="darwin"?_e:he;var dn=require("url");var Rc=i=>i.length>=1,Nc=i=>i.length>=1,ue=class i{#t;#i;#n;length;#r;#a;#l;#u;#c;#o;#e=!0;constructor(t,e,r,s){if(!Rc(t))throw new TypeError("empty pattern list");if(!Nc(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,r<0||r>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#i=e,this.#n=r,this.#r=s,this.#n===0){if(this.isUNC()){let[n,o,a,c,...l]=this.#t,[h,f,u,d,...m]=this.#i;l[0]===""&&(l.shift(),m.shift());let p=[n,o,a,c,""].join("/"),A=[h,f,u,d,""].join("/");this.#t=[p,...l],this.#i=[A,...m],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){let[n,...o]=this.#t,[a,...c]=this.#i;o[0]===""&&(o.shift(),c.shift());let l=n+"/",h=a+"/";this.#t=[l,...o],this.#i=[h,...c],this.length=this.#t.length}}}pattern(){return this.#t[this.#n]}isString(){return typeof this.#t[this.#n]=="string"}isGlobstar(){return this.#t[this.#n]===W}isRegExp(){return this.#t[this.#n]instanceof RegExp}globString(){return this.#l=this.#l||(this.#n===0?this.isAbsolute()?this.#i[0]+this.#i.slice(1).join("/"):this.#i.join("/"):this.#i.slice(this.#n).join("/"))}hasMore(){return this.length>this.#n+1}rest(){return this.#a!==void 0?this.#a:this.hasMore()?(this.#a=new i(this.#t,this.#i,this.#n+1,this.#r),this.#a.#o=this.#o,this.#a.#c=this.#c,this.#a.#u=this.#u,this.#a):this.#a=null}isUNC(){let t=this.#t;return this.#c!==void 0?this.#c:this.#c=this.#r==="win32"&&this.#n===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){let t=this.#t;return this.#u!==void 0?this.#u:this.#u=this.#r==="win32"&&this.#n===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){let t=this.#t;return this.#o!==void 0?this.#o:this.#o=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){let t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#n===0?t:""}checkFollowGlobstar(){return!(this.#n===0||!this.isGlobstar()||!this.#e)}markFollowGlobstar(){return this.#n===0||!this.isGlobstar()||!this.#e?!1:(this.#e=!1,!0)}};var Dc=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",Me=class{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:r,noext:s,noglobstar:n,platform:o=Dc}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];let a={dot:!0,nobrace:e,nocase:r,noext:s,noglobstar:n,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let c of t){let l=new J(c,a);for(let h=0;h<l.set.length;h++){let f=l.set[h],u=l.globParts[h];if(!f||!u)throw new Error("invalid pattern object");let d=new ue(f,u,0,o),m=new J(d.globString(),a),p=u[u.length-1]==="**",A=d.isAbsolute();A?this.absolute.push(m):this.relative.push(m),p&&(A?this.absoluteChildren.push(m):this.relativeChildren.push(m))}}}ignored(t){let e=t.fullpath(),r=`${e}/`,s=t.relative()||".",n=`${s}/`;for(let o of this.relative)if(o.match(s)||o.match(n))return!0;for(let o of this.absolute)if(o.match(e)||o.match(r))return!0;return!1}childrenIgnored(t){let e=t.fullpath()+"/",r=(t.relative()||".")+"/";for(let s of this.relativeChildren)if(s.match(r))return!0;for(let s of this.absoluteChildren)if(s.match(e))return!0;return!1}};var or=class i{store;constructor(t=new Map){this.store=t}copy(){return new i(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){let r=t.fullpath(),s=this.store.get(r);s?s.add(e.globString()):this.store.set(r,new Set([e.globString()]))}},ar=class{store=new Map;add(t,e,r){let s=(e?2:0)|(r?1:0),n=this.store.get(t);this.store.set(t,n===void 0?s:s&n)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}},cr=class{store=new Map;add(t,e){if(!t.canReaddir())return;let r=this.store.get(t);r?r.find(s=>s.globString()===e.globString())||r.push(e):this.store.set(t,[e])}get(t){let e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}},Le=class i{hasWalkedCache;matches=new ar;subwalks=new cr;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new or}processPatterns(t,e){this.patterns=e;let r=e.map(s=>[t,s]);for(let[s,n]of r){this.hasWalkedCache.storeWalked(s,n);let o=n.root(),a=n.isAbsolute()&&this.opts.absolute!==!1;if(o){s=s.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let f=n.rest();if(f)n=f;else{this.matches.add(s,!0,!1);continue}}if(s.isENOENT())continue;let c,l,h=!1;for(;typeof(c=n.pattern())=="string"&&(l=n.rest());)s=s.resolve(c),n=l,h=!0;if(c=n.pattern(),l=n.rest(),h){if(this.hasWalkedCache.hasWalked(s,n))continue;this.hasWalkedCache.storeWalked(s,n)}if(typeof c=="string"){let f=c===".."||c===""||c===".";this.matches.add(s.resolve(c),a,f);continue}else if(c===W){(!s.isSymbolicLink()||this.follow||n.checkFollowGlobstar())&&this.subwalks.add(s,n);let f=l?.pattern(),u=l?.rest();if(!l||(f===""||f===".")&&!u)this.matches.add(s,a,f===""||f===".");else if(f===".."){let d=s.parent||s;u?this.hasWalkedCache.hasWalked(d,u)||this.subwalks.add(d,u):this.matches.add(d,a,!0)}}else c instanceof RegExp&&this.subwalks.add(s,n)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new i(this.opts,this.hasWalkedCache)}filterEntries(t,e){let r=this.subwalks.get(t),s=this.child();for(let n of e)for(let o of r){let a=o.isAbsolute(),c=o.pattern(),l=o.rest();c===W?s.testGlobstar(n,o,l,a):c instanceof RegExp?s.testRegExp(n,c,l,a):s.testString(n,c,l,a)}return s}testGlobstar(t,e,r,s){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,s,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(r&&e.checkFollowGlobstar()?this.subwalks.add(t,r):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),r){let n=r.pattern();if(typeof n=="string"&&n!==".."&&n!==""&&n!==".")this.testString(t,n,r.rest(),s);else if(n===".."){let o=t.parent||t;this.subwalks.add(o,r)}else n instanceof RegExp&&this.testRegExp(t,n,r.rest(),s)}}testRegExp(t,e,r,s){e.test(t.name)&&(r?this.subwalks.add(t,r):this.matches.add(t,s,!1))}testString(t,e,r,s){t.isNamed(e)&&(r?this.subwalks.add(t,r):this.matches.add(t,s,!1))}};var Pc=(i,t)=>typeof i=="string"?new Me([i],t):Array.isArray(i)?new Me(i,t):i,vi=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#i;#n;signal;maxDepth;constructor(t,e,r){this.patterns=t,this.path=e,this.opts=r,this.#n=!r.posix&&r.platform==="win32"?"\\":"/",r.ignore&&(this.#i=Pc(r.ignore,r)),this.maxDepth=r.maxDepth||1/0,r.signal&&(this.signal=r.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#r(t){return this.seen.has(t)||!!this.#i?.ignored?.(t)}#a(t){return!!this.#i?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||await t.realpath(),!r)return;t=r}let s=t.isUnknown()||this.opts.stat;return this.matchCheckTest(s?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#r(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||t.realpathSync(),!r)return;t=r}let s=t.isUnknown()||this.opts.stat;return this.matchCheckTest(s?t.lstatSync():t,e)}matchFinish(t,e){if(this.#r(t))return;let r=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);let s=this.opts.mark&&t.isDirectory()?this.#n:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(r){let n=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(n+s)}else{let n=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!n.startsWith(".."+this.#n)?"."+this.#n:"";this.matchEmit(n?o+n+s:"."+s)}}async match(t,e,r){let s=await this.matchCheck(t,r);s&&this.matchFinish(s,e)}matchSync(t,e,r){let s=this.matchCheckSync(t,r);s&&this.matchFinish(s,e)}walkCB(t,e,r){this.signal?.aborted&&r(),this.walkCB2(t,e,new Le(this.opts),r)}walkCB2(t,e,r,s){if(this.#a(t))return s();if(this.signal?.aborted&&s(),this.paused){this.onResume(()=>this.walkCB2(t,e,r,s));return}r.processPatterns(t,e);let n=1,o=()=>{--n===0&&s()};for(let[a,c,l]of r.matches.entries())this.#r(a)||(n++,this.match(a,c,l).then(()=>o()));for(let a of r.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;n++;let c=a.readdirCached();a.calledReaddir()?this.walkCB3(a,c,r,o):a.readdirCB((l,h)=>this.walkCB3(a,h,r,o),!0)}o()}walkCB3(t,e,r,s){r=r.filterEntries(t,e);let n=1,o=()=>{--n===0&&s()};for(let[a,c,l]of r.matches.entries())this.#r(a)||(n++,this.match(a,c,l).then(()=>o()));for(let[a,c]of r.subwalks.entries())n++,this.walkCB2(a,c,r.child(),o);o()}walkCBSync(t,e,r){this.signal?.aborted&&r(),this.walkCB2Sync(t,e,new Le(this.opts),r)}walkCB2Sync(t,e,r,s){if(this.#a(t))return s();if(this.signal?.aborted&&s(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,r,s));return}r.processPatterns(t,e);let n=1,o=()=>{--n===0&&s()};for(let[a,c,l]of r.matches.entries())this.#r(a)||this.matchSync(a,c,l);for(let a of r.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;n++;let c=a.readdirSync();this.walkCB3Sync(a,c,r,o)}o()}walkCB3Sync(t,e,r,s){r=r.filterEntries(t,e);let n=1,o=()=>{--n===0&&s()};for(let[a,c,l]of r.matches.entries())this.#r(a)||this.matchSync(a,c,l);for(let[a,c]of r.subwalks.entries())n++,this.walkCB2Sync(a,c,r.child(),o);o()}},Ue=class extends vi{matches;constructor(t,e,r){super(t,e,r),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}},je=class extends vi{results;constructor(t,e,r){super(t,e,r),this.results=new _t({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){let t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};var Fc=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",gt=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,dn.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(c=>c.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(c=>c.includes("/")?c:`./**/${c}`)}if(this.pattern=t,this.platform=e.platform||Fc,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let c=e.platform==="win32"?le:e.platform==="darwin"?_e:e.platform?he:fn;this.scurry=new c(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;let r=this.platform==="darwin"||this.platform==="win32",s={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:r,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map(c=>new J(c,s)),[o,a]=n.reduce((c,l)=>(c[0].push(...l.set),c[1].push(...l.globParts),c),[[],[]]);this.patterns=o.map((c,l)=>{let h=a[l];if(!h)throw new Error("invalid pattern object");return new ue(c,h,0,this.platform)})}async walk(){return[...await new Ue(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new Ue(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new je(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new je(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};var lr=(i,t={})=>{Array.isArray(i)||(i=[i]);for(let e of i)if(new J(e,t).hasMagic())return!0;return!1};function yi(i,t={}){return new gt(i,t).streamSync()}function gn(i,t={}){return new gt(i,t).stream()}function ze(i,t={}){return new gt(i,t).walkSync()}async function pn(i,t={}){return new gt(i,t).walk()}function ki(i,t={}){return new gt(i,t).iterateSync()}function An(i,t={}){return new gt(i,t).iterate()}var _c=yi,Mc=Object.assign(gn,{sync:yi}),Lc=ki,Uc=Object.assign(An,{sync:ki}),jc=Object.assign(ze,{stream:yi,iterate:ki}),mn=Object.assign(pn,{glob:pn,globSync:ze,sync:jc,globStream:gn,stream:Mc,globStreamSync:yi,streamSync:_c,globIterate:An,iterate:Uc,globIterateSync:ki,iterateSync:Lc,Glob:gt,hasMagic:lr,escape:Dt,unescape:dt});mn.glob=mn;var ct=(i,t,e)=>e.indexOf(i)===t;var bn=require("os"),We=require("vscode"),zc=(0,bn.homedir)(),hr=i=>i.replace(/\${(.*)}/g,(t,e)=>e=="vscode:workspace"&&We.workspace.workspaceFolders&&We.workspace.workspaceFolders.length>0&&We.workspace.workspaceFolders[0].uri?We.workspace.workspaceFolders[0].uri.fsPath.toString():e=="user:home"?zc:e in process.env&&process.env[e]||"");var vn=i=>{let t=(0,wn.extname)(i);for(let e of Si())if(`.${e}`===t)return!0;return!1},yn={absolute:!0,nodir:!0},ur=i=>Dt(i.fsPath.replace(/\\/g,"/")),fe=i=>{let t=0,e=[];for(let r of Array.isArray(i)?i.filter(ct):[i])r.startsWith("https://")?t++:e.push(hr(r));return t+ze(e,yn).filter(vn).filter(ct).length},Qe=i=>{let t=[],e=[];for(let r of Array.isArray(i)?i.filter(ct):[i])r.startsWith("https://")?t.push(r):e.push(hr(r));return t.concat(ze(e,yn).filter(vn).map(r=>`vscode-file://vscode-app/${r.replace(/\\/g,"/").replace(/^\/+/g,"")}`)).filter(ct).map(r=>'"'+r+'"')};var Bt="KatsuteDev/Background",Wc=new RegExp(`^\\/\\* ${Bt}-start \\*\\/$[\\s\\S]*?^\\/\\* ${Bt}-end \\*\\/$`,"gmi"),Si=()=>["png","jpg","jpeg","webp","gif","bmp","svg"],kn=i=>fr(i)+`
/* ${Bt}-start */
`+$c(Qc())+`
/* ${Bt}-end */`,fr=i=>i.replace(Wc,"").trim(),Qc=()=>{let i={window:Qe(w("windowBackgrounds")),editor:Qe(w("editorBackgrounds")),sidebar:Qe(w("sidebarBackgrounds")),panel:Qe(w("panelBackgrounds"))},t=w("renderContentAboveBackground");return`(() => {
const bk_global = document.createElement("style");
bk_global.id = "${Bt}-global";
bk_global.setAttribute("type", "text/css");

bk_global.appendChild(document.createTextNode(\`

    body[windowTransition="true"]${t?" > div[role=application] > div.monaco-grid-view::after":"::before"},
    body[editorTransition="true"] .split-view-view > .editor-group-container::after,
    body[sidebarTransition="true"] .split-view-view > .part.sidebar::after,
    body[sidebarTransition="true"] .split-view-view > .part.auxiliarybar::after,
    body[panelTransition="true"] .split-view-view > .part.panel::after {

        opacity: 0;

    }

    body${t?" > div[role=application] > div.monaco-grid-view::after":"::before"},
    .split-view-view > .editor-group-container::after,
    .split-view-view > .part.sidebar::after,
    .split-view-view > .part.auxiliarybar::after,
    .split-view-view > .part.panel::after {

        content: "";

        top: 0;

        width: 100%;
        height: 100%;

        ${t?"":"z-index: 1000;"}

        position: absolute;

        pointer-events: none;

        transition: opacity 1s ease-in-out;

        image-rendering: ${w("smoothImageRendering")?"auto":"pixelated"};

    }
\`));

const windowBackgrounds = [${i.window.join(",")}];
const editorBackgrounds = [${i.editor.join(",")}];
const sidebarBackgrounds = [${i.sidebar.join(",")}];
const panelBackgrounds = [${i.panel.join(",")}];

const iWindowBackgrounds = [...Array(${i.window.length}).keys()];
const iEditorBackgrounds = [...Array(${i.editor.length}).keys()];
const iSidebarBackgrounds = [...Array(${i.sidebar.length}).keys()];
const iPanelBackgrounds = [...Array(${i.panel.length}).keys()];

const windowTime = ${w("backgroundChangeTime","window",!0)==0?0:Math.max(z(w("backgroundChangeTime","window",!0),2),5)};
const editorTime = ${w("backgroundChangeTime","editor",!0)==0?0:Math.max(z(w("backgroundChangeTime","editor",!0),2),5)};
const sidebarTime = ${w("backgroundChangeTime","sidebar",!0)==0?0:Math.max(z(w("backgroundChangeTime","sidebar",!0),2),5)};
const panelTime = ${w("backgroundChangeTime","panel",!0)==0?0:Math.max(z(w("backgroundChangeTime","panel",!0),2),5)};

if(windowBackgrounds.length > 0){
    bk_global.appendChild(document.createTextNode(\`
        body${t?" > div[role=application] > div.monaco-grid-view::after":"::before"} {

            background-position: ${O("backgroundAlignment","window")};
            background-repeat: ${O("backgroundRepeat","window")};
            background-size: ${O("backgroundSize","window")};

            opacity: ${z(1-+O("backgroundOpacity","window"),2)};

            filter: blur(${O("backgroundBlur","window")});

        }
    \`));
};

if(editorBackgrounds.length > 0){
    bk_global.appendChild(document.createTextNode(\`
        .split-view-view > .editor-group-container::after {

            background-position: ${O("backgroundAlignment","editor")};
            background-repeat: ${O("backgroundRepeat","editor")};
            background-size: ${O("backgroundSize","editor")};

            opacity: ${z(1-+O("backgroundOpacity","editor"),2)};

            filter: blur(${O("backgroundBlur","editor")});

        }
    \`));
};

if(sidebarBackgrounds.length > 0){
    bk_global.appendChild(document.createTextNode(\`
        .split-view-view > .part.sidebar::after,
        .split-view-view > .part.auxiliarybar::after {

            background-position: ${O("backgroundAlignment","sidebar")};
            background-repeat: ${O("backgroundRepeat","sidebar")};
            background-size: ${O("backgroundSize","sidebar")};

            opacity: ${z(1-+O("backgroundOpacity","sidebar"),2)};

            filter: blur(${O("backgroundBlur","sidebar")});

        }
    \`));
};

if(panelBackgrounds.length > 0){
    bk_global.appendChild(document.createTextNode(\`
        .split-view-view > .part.panel::after {

            background-position: ${O("backgroundAlignment","panel")};
            background-repeat: ${O("backgroundRepeat","panel")};
            background-size: ${O("backgroundSize","panel")};

            opacity: ${z(1-+O("backgroundOpacity","panel"),2)};

            filter: blur(${O("backgroundBlur","panel")});

        }
    \`));
};

bk_global.appendChild(document.createTextNode(\`
    div.notification-toast:has(> div.notifications-list-container > div.monaco-list[aria-label="Your Code installation appears to be corrupt. Please reinstall., notification"]),
    div.notification-toast:has(> div.notifications-list-container > div.monaco-list[aria-label="Your Code - Insiders installation appears to be corrupt. Please reinstall., notification"]) {

        display: none;

    }

    div.monaco-list-row[aria-label$=", source: Background (Extension), notification"],
    div.monaco-list-row[aria-label$=", source: Background (Extension), notification"]:hover {

        background-color: #0098FF !important;
        color: white !important;

    }

    div.monaco-list-row[aria-label$=", source: Background (Extension), notification"] ::before {

        color: white;

    }
\`));

bk_global.appendChild(document.createTextNode("${As(w("CSS"))}"));

const bk_window_image = document.createElement("style");
bk_window_image.id = "${Bt}-window-images";
bk_window_image.setAttribute("type", "text/css");

const setWindowBackground = () => {
    while(bk_window_image.firstChild){
        bk_window_image.removeChild(bk_window_image.firstChild);
    };

    if(windowBackgrounds.length > 0){
        shuffle(iWindowBackgrounds);

        bk_window_image.appendChild(document.createTextNode(\`
            body${t?" > div[role=application] > div.monaco-grid-view::after":"::before"} {

                background-image: url("\${windowBackgrounds[iWindowBackgrounds[0]]}");

            }
        \`));
    };
};

const bk_editor_image = document.createElement("style");
bk_editor_image.id = "${Bt}-editor-images";
bk_editor_image.setAttribute("type", "text/css");

const setEditorBackground = () => {
    while(bk_editor_image.firstChild){
        bk_editor_image.removeChild(bk_editor_image.firstChild);
    };

    if(editorBackgrounds.length > 0){
        const len = Math.min(editorBackgrounds.length, 10);

        shuffle(iEditorBackgrounds);

        let buf = '';
        for(let i = 0; i < len; i++){
            buf += \`
                .part.editor :not(.split-view-container) .split-view-container > .split-view-view:nth-child(\${len}n+\${i+1}) > .editor-group-container::after {
                    background-image: url("\${editorBackgrounds[iEditorBackgrounds[i]]}");
                }
            \`;
        };
        bk_editor_image.appendChild(document.createTextNode(buf));
    };
};

const bk_sidebar_image = document.createElement("style");
bk_sidebar_image.id = "${Bt}-sidebar-images";
bk_sidebar_image.setAttribute("type", "text/css");

const setSidebarBackground = () => {
    while(bk_sidebar_image.firstChild){
        bk_sidebar_image.removeChild(bk_sidebar_image.firstChild);
    };

    if(sidebarBackgrounds.length > 0){
        shuffle(iSidebarBackgrounds);

        bk_sidebar_image.appendChild(document.createTextNode(\`
            .split-view-view > .part.sidebar::after {

                background-image: url("\${sidebarBackgrounds[iSidebarBackgrounds[0]]}");

            }
            .split-view-view > .part.auxiliarybar::after {

                background-image: url("\${sidebarBackgrounds[iSidebarBackgrounds[1]] ?? sidebarBackgrounds[iSidebarBackgrounds[0]]}");

            }
        \`));
    };
};

const bk_panel_image = document.createElement("style");
bk_panel_image.id = "${Bt}-panel-images";
bk_panel_image.setAttribute("type", "text/css");

const setPanelBackground = () => {
    while(bk_panel_image.firstChild){
        bk_panel_image.removeChild(bk_panel_image.firstChild);
    };

    if(panelBackgrounds.length > 0){
        shuffle(iPanelBackgrounds);

        bk_panel_image.appendChild(document.createTextNode(\`
            .split-view-view > .part.panel::after {

                background-image: url("\${panelBackgrounds[iPanelBackgrounds[0]]}");

            }
        \`));
    };
};

const shuffle = (arr) => {
    for(let i = arr.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * i);
        [arr[i], arr[j]] = [arr[j], arr[i]];
    };
};

document.getElementsByTagName("head")[0].appendChild(bk_global);
document.getElementsByTagName("head")[0].appendChild(bk_window_image);
document.getElementsByTagName("head")[0].appendChild(bk_editor_image);
document.getElementsByTagName("head")[0].appendChild(bk_sidebar_image);
document.getElementsByTagName("head")[0].appendChild(bk_panel_image);

for(const arr of [iWindowBackgrounds, iEditorBackgrounds, iSidebarBackgrounds, iPanelBackgrounds]){
    for(let i = arr.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
    };
};

setWindowBackground();
setEditorBackground();
setSidebarBackground();
setPanelBackground();

if(windowTime > 0 && iWindowBackgrounds.length > 1){
    setInterval(() => {
        document.body.setAttribute("windowTransition", true);
        setTimeout(() => {
            setWindowBackground();
            document.body.setAttribute("windowTransition", false);
        }, 1 * 1000);
    }, windowTime * 1000);
};
if(editorTime > 0 && iEditorBackgrounds.length > 1){
    setInterval(() => {
        document.body.setAttribute("editorTransition", true);
        setTimeout(() => {
            setEditorBackground();
            document.body.setAttribute("editorTransition", false);
        }, 1 * 1000);
    }, editorTime * 1000);
};
if(sidebarTime > 0 && iSidebarBackgrounds.length > 1){
    setInterval(() => {
        document.body.setAttribute("sidebarTransition", true);
        setTimeout(() => {
            setSidebarBackground();
            document.body.setAttribute("sidebarTransition", false);
        }, 1 * 1000);
    }, sidebarTime * 1000);
};
if(panelTime > 0 && iPanelBackgrounds.length > 1){
    setInterval(() => {
        document.body.setAttribute("panelTransition", true);
        setTimeout(() => {
            setPanelBackground();
            document.body.setAttribute("panelTransition", false);
        }, 1 * 1000);
    }, panelTime * 1000);
};
})();`},$c=i=>i.trim().replace(/\/\/ .*$/gm,"").replace(/\/\*.*?\*\//gms,"").replace(/^ +/gm,"").replace(/\r?\n/gm,"");var At=(i,t)=>Array.isArray(i)?At(i.length,t):`${i} ${t}${i!=1?"s":""}`,dr=(i,t,e)=>i+(t(i)?e:""),Ei=i=>`${(i[0]??"").toUpperCase()+(i??"").substring(1)}`;var Ci=require("os"),Z=require("vscode");var lt=ft("backgroundAlignment"),Tt=i=>ie("backgroundAlignment",i,i.ui).then(()=>U(i.ui)),Sn=i=>{let t=w("backgroundAlignment",i);ut([S({label:lt.items.enum[0],handle:Tt,ui:i},t),S({label:lt.items.enum[1],handle:Tt,ui:i},t),S({label:lt.items.enum[2],handle:Tt,ui:i},t),H(),S({label:lt.items.enum[3],handle:Tt,ui:i},t),S({label:lt.items.enum[4],handle:Tt,ui:i},t),S({label:lt.items.enum[5],handle:Tt,ui:i},t),H(),S({label:lt.items.enum[6],handle:Tt,ui:i},t),S({label:lt.items.enum[7],handle:Tt,ui:i},t),S({label:lt.items.enum[8],handle:Tt,ui:i},t),H(),S({label:lt.items.enum[9],description:`(${w("backgroundAlignmentValue",i)})`,ui:i,handle:e=>{let r=w("backgroundAlignmentValue",i);st({title:Q("Alignment",i),placeHolder:"Background position",value:r,prompt:`Background position (${r}). The literal value for the 'background-position' css property.`,validateInput:s=>St(s)?null:"Invalid CSS",handle:s=>{if(St(s)){let n=w("backgroundAlignment",i)!==lt.items.enum[9]||r!==s;F("backgroundAlignment",lt.items.enum[9],i,!0).then(()=>F("backgroundAlignmentValue",s,i,!0)).then(()=>{n&&Se(),U(i)})}}})}},t)],{title:Q("Alignment",i),matchOnDescription:!0,placeHolder:"Background alignment"})};var En=i=>{let t=w("backgroundBlur",i);st({title:Q("Blur",i),placeHolder:"Background blur",value:t,prompt:`Background blur (${t})`,validateInput:e=>St(e)?null:"Invalid CSS",handle:e=>{St(e)&&F("backgroundBlur",e,i).then(()=>U(i))}})};var xn=require("vscode");var Cn=i=>{let t=z(w("backgroundOpacity",i),2);st({title:Q("Opacity",i),placeHolder:"Background opacity",value:t.toString(),prompt:`Background opacity (${t}). 0 is fully visible and 1 is invisible.`,validateInput:e=>isNaN(+e)?"Not a number":+e<0||+e>1?"Opacity must be between 0 and 1":null,handle:e=>{if(!isNaN(+e)){let r=Math.min(Math.max(z(+e,2),0),1);r>.1?F("backgroundOpacity",r,i).then(()=>U(i)):xn.window.showWarningMessage("An opacity of "+r+" might make it difficult to see the UI, are you sure you want to use this opacity?",{modal:!0},"Yes").then(s=>{s==="Yes"&&F("backgroundOpacity",r,i).then(()=>U(i))})}}})};var ht=ft("backgroundRepeat"),de=i=>ie("backgroundRepeat",i,i.ui).then(()=>U(i.ui)),Bn=i=>{let t=w("backgroundRepeat",i);ut([S({label:ht.items.enum[0],description:ht.items.enumDescriptions[0],handle:de,ui:i},t),S({label:ht.items.enum[1],description:ht.items.enumDescriptions[1],handle:de,ui:i},t),S({label:ht.items.enum[2],description:ht.items.enumDescriptions[2],handle:de,ui:i},t),S({label:ht.items.enum[3],description:ht.items.enumDescriptions[3],handle:de,ui:i},t),S({label:ht.items.enum[4],description:ht.items.enumDescriptions[4],handle:de,ui:i},t),S({label:ht.items.enum[5],description:ht.items.enumDescriptions[5],handle:de,ui:i},t)],{title:Q("Repeat",i),matchOnDescription:!0,placeHolder:"Background repeat"})};var Ot=ft("backgroundSize"),pr=i=>ie("backgroundSize",i,i.ui).then(()=>U(i.ui)),Tn=i=>{let t=w("backgroundSize",i);ut([S({label:Ot.items.enum[0],description:Ot.items.enumDescriptions[0],handle:pr,ui:i},t),S({label:Ot.items.enum[1],description:Ot.items.enumDescriptions[1],handle:pr,ui:i},t),S({label:Ot.items.enum[2],description:Ot.items.enumDescriptions[2],handle:pr,ui:i},t),H(),S({label:Ot.items.enum[3],description:`(${w("backgroundSizeValue",i)})`,ui:i,handle:e=>{let r=w("backgroundSizeValue",i);st({title:Q("Size",i),placeHolder:"Background size",value:r,prompt:`Background size (${r}). The literal value for the 'background-size' css property.`,validateInput:s=>St(s)?null:"Invalid CSS",handle:s=>{if(St(s)){let n=w("backgroundSize",i)!==Ot.items.enum[3]||r!==s;F("backgroundSize",Ot.items.enum[3],i,!0).then(()=>F("backgroundSizeValue",s,i,!0)).then(()=>{n&&Se(),U(i)})}}})}},t)],{title:Q("Size",i),matchOnDescription:!0,placeHolder:"Background size"})};var On=i=>{let t=z(w("backgroundChangeTime",i),2);st({title:Q("Change Time",i),placeHolder:"Background change time",value:t.toString(),prompt:`Background change time (${t}). How long in seconds before the background should automatically change. Set to 0 to always use the same image.`,validateInput:e=>isNaN(+e)?"Not a number":+e<0?"Background change time must be a positive number":null,handle:e=>{if(!isNaN(+e)){let r=Math.max(z(+e,2),0);F("backgroundChangeTime",r,i).then(()=>U(i))}}})};var Vc=`https://github.com/KatsuteDev/Background/issues/new?template=bug.yml&os=${encodeURI(`${(0,Ci.platform)()} ${(0,Ci.release)()}`)}&vs=${encodeURI(Z.version)}&version=${encodeURI(ii.version)}`,Gc=Z.Uri.parse(ii.sponsor.url),mr=()=>ut([xi("window","window"),xi("editor","multiple-windows"),xi("sidebar","layout-sidebar-left"),xi("panel","layout-panel"),H(),S({alwaysShow:!0,label:"$(check) Install",description:"Install background",handle:()=>Z.commands.executeCommand("background.install")}),S({alwaysShow:!0,label:"$(close) Uninstall",description:"Uninstall background",handle:()=>Z.commands.executeCommand("background.uninstall")}),S({alwaysShow:!0,label:"$(refresh) Reload",description:"Randomizes the current background",handle:()=>Z.commands.executeCommand("background.reload")}),H(),S({label:"$(output) Changelog",handle:()=>Z.commands.executeCommand("background.changelog")}),S({label:"$(question) Help",handle:()=>Z.commands.executeCommand("background.help")}),S({label:"$(github) Report an issue on GitHub",handle:()=>Z.env.openExternal(Z.Uri.parse(`${Vc}&settings=${encodeURI("```json\n"+JSON.stringify(ee(),null,4)+"\n```")}`))}),S({label:"$(heart) Sponsor this extension",handle:()=>Z.env.openExternal(Gc)})],{title:"Background",matchOnDescription:!0}),xi=(i,t)=>{let e=w(`${i}Backgrounds`),r=`${At(e,"Glob")} (${At(fe(e),"Background")})`,s=`${w("backgroundAlignment",i)} Alignment \u2022 ${w("backgroundBlur",i)} Blur \u2022 ${w("backgroundOpacity",i)} Opacity \u2022 ${w("backgroundRepeat",i)} Repeat \u2022 ${w("backgroundSize",i)} Size`,n=+w("backgroundChangeTime",i);return n>0&&(s+=" \u2022 "+At(n,"second")),S({label:`$(${t}) ${Ei(i)}`,description:r,detail:s,ui:i,handle:()=>U(i)})},U=i=>ut([S({label:"$(file-media) File",description:`${At(w(`${i}Backgrounds`),"Glob")} (${At(fe(w(`${i}Backgrounds`)),"Background")})`,detail:"Select background image files",ui:i,handle:()=>$e(i)}),H(),S({label:"$(arrow-both) Alignment",description:`${dr(w("backgroundAlignment",i),t=>t==="Manual",` (${w("backgroundAlignmentValue",i)})`)}`,detail:"Background image alignment",ui:i,handle:()=>Sn(i)}),S({label:"$(eye) Blur",description:`${w("backgroundBlur",i)}`,detail:"Background image blur",ui:i,handle:()=>En(i)}),S({label:"$(color-mode) Opacity",description:`${w("backgroundOpacity",i)}`,detail:"Background image opacity",ui:i,handle:()=>Cn(i)}),S({label:"$(multiple-windows) Repeat",description:`${w("backgroundRepeat",i)}`,detail:"Background image repeat",ui:i,handle:()=>Bn(i)}),S({label:"$(screen-full) Size",description:`${dr(w("backgroundSize",i),t=>t==="Manual",` (${w("backgroundSizeValue",i)})`)}`,detail:"Background image size",ui:i,handle:()=>Tn(i)}),S({label:"$(clock) Time",description:`${At(+w("backgroundChangeTime",i),"second")}`,detail:"How often to change the background",ui:i,handle:()=>On(i)})],{title:`${Ei(i)} Background`,matchOnDescription:!0,matchOnDetail:!0},mr),Q=(i,t)=>(t?`${Ei(t)} `:"")+`Background - ${i}`;var Ht=i=>w(`${i}Backgrounds`),me=async(i,t,e=!1)=>{let r=Ht(i);r.push(...Array.isArray(t)?t:[t]),await F(`${i}Backgrounds`,r.filter(ct),void 0,e),e||$e(i)},gr=async(i,t,e,r=!1)=>{let s=Ht(i).filter(ct);for(let n=0,o=s.length;n<o;n++)if(s[n]===t){s[n]=e;break}await F(`${i}Backgrounds`,s.filter(ct),void 0,r||t===e),r||$e(i)},Bi=async(i,t,e=!1)=>{let r=Array.isArray(t)?t:[t];await F(`${i}Backgrounds`,Ht(i).filter(s=>!r.includes(s)).filter(ct),void 0,e),e||$e(i)},$e=i=>{let t=Ht(i).filter(ct).map(e=>S({label:e.replace(/(\$\(\w+\))/g,"\\$1"),value:e,ui:i,description:`${At(fe(e),"matching file")}`,handle:r=>st({title:`Update ${r.value}`,placeHolder:"File path, glob, or URL; leave blank to remove",value:r.value??"",prompt:"Use only '/' for directories, '\\' is reserved for escape characters. Leave this field blank to remove.",validateInput:s=>s.startsWith("file://")?"Do not include 'file://' as part of the file path":s.startsWith("http://")?"Images must be served over HTTPS":null,handle:s=>{s.trim().length===0?Bi(i,r.value):gr(i,r.value,s)}})}));ut([...t,H(),S({alwaysShow:!0,label:"$(file-add) Add a File",ui:i,handle:e=>pe.window.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!0,openLabel:"Select Image",filters:{Images:Si()}}).then(r=>r&&me(i,r.map(s=>ur(s))))}),S({alwaysShow:!0,label:"$(file-directory-create) Add a Folder",ui:i,handle:e=>pe.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!0,openLabel:"Select Folder"}).then(r=>r&&me(i,r.map(s=>`${ur(s)}/**`)))}),S({alwaysShow:!0,label:"$(kebab-horizontal) Add a Glob",ui:i,handle:e=>pe.window.showInputBox({title:"Add Glob",placeHolder:"File path or glob",prompt:"Add a file or a glob. Use only '/' for directories, '\\' is reserved for escape characters.",validateInput:r=>r.startsWith("file://")?"Do not include 'file://' as part of the file path":r.startsWith("http://")||r.startsWith("https://")?"Image URLs do not support glob, use Add URL option":null}).then(r=>{r&&me(i,r)})}),S({alwaysShow:!0,label:"$(ports-open-browser-icon) Add a URL",ui:i,handle:e=>pe.window.showInputBox({title:"Add URL",placeHolder:"Image URL",prompt:"Add a image URL. Must be served over HTTPS",validateInput:r=>r.startsWith("file://")?"File URLs not accepted, use Add File option":r.startsWith("http://")?"Images must be served over HTTPS":r.startsWith("https://")?null:"Invalid URL"}).then(r=>{r&&me(i,r)})}),...t.length>0?[H(),S({alwaysShow:!0,label:"$(trash) Delete a Background",ui:i,handle:e=>{let r=Ht(i).filter(ct).map(s=>{let n=fe(s);return S({label:s.replace(/(\$\(\w+\))/g,"\\$1"),value:s,ui:e.ui,description:`${At(n,"matching file")}`})});pe.window.showQuickPick(r,{title:Q("Delete",i),placeHolder:"Files",canPickMany:!0}).then(s=>s&&Bi(i,s.map(n=>n.value)))}})]:[]],{title:Q("Files",i),placeHolder:"Files"},()=>U(i))};var In={install:()=>Ar.commands.executeCommand("background.install"),uninstall:()=>Ar.commands.executeCommand("background.uninstall"),reload:Gt,get:i=>{switch(i){case"window":case"editor":case"sidebar":case"panel":return Ht(i);default:return}},add:async(i,t)=>{switch(i){case"window":case"editor":case"sidebar":case"panel":return await me(i,t,!0),!0;default:return!1}},replace:async(i,t,e)=>{switch(i){case"window":case"editor":case"sidebar":case"panel":return await gr(i,t,e,!0),!0;default:return!1}},remove:async(i,t)=>{switch(i){case"window":case"editor":case"sidebar":case"panel":return await Bi(i,t,!0),!0;default:return!1}}};var es=te(Qo()),Li=require("vscode"),Ye=require("os"),$o=te(Qi()),Nt=require("fs");var Vo=(i,t)=>{qo(i,t,kn((0,Nt.readFileSync)(i,"utf-8")))},Go=(i,t)=>{qo(i,t,fr((0,Nt.readFileSync)(i,"utf-8")))},uh=/(?<=^\s*"vs\/workbench\/workbench\.desktop\.main\.js\": \").*(?=\",\s*$)/gm,qo=(i,t,e)=>{let r=(0,Nt.readFileSync)(t,"utf-8").replace(uh,ms(e));try{(0,Nt.writeFileSync)(i,e,"utf-8"),(0,Nt.writeFileSync)(t,r,"utf-8"),Gt()}catch(s){(0,Ye.platform)()==="linux"&&i.toString().replace(/\\/g,"/").includes("/snap/")&&t.toString().replace(/\\/g,"/").includes("/snap/")?Li.window.showErrorMessage("Background extension does not support snap installations, use deb or rpm"):Li.window.showWarningMessage("Failed to write changes, run command as administrator?",{detail:`The Background extension does not have permission to write changes, run command using administrator permissions?

${s.message}`,modal:!0},"Yes").then(o=>{if(o==="Yes"){let a=(0,es.fileSync)().name;(0,Nt.writeFileSync)(a,e,"utf-8");let c=(0,es.fileSync)().name;(0,Nt.writeFileSync)(c,r,"utf-8");let l=ei([[a,i],[c,t]]);(0,$o.exec)(l,{name:"VSCode Extension Host"},h=>{h?Li.window.showErrorMessage("Failed to write changes",{detail:`OS: ${(0,Ye.platform)()} ${(0,Ye.release)()}
Using command: ${l}

${h.name}
${h.message}`.trim(),modal:!0}):Gt()})}})}};var fh=i=>{let t,e;if(require?.main?.filename)if(t=(0,Qt.join)((0,Qt.dirname)(require.main.filename),"vs","workbench","workbench.desktop.main.js"),e=(0,Qt.join)((0,Qt.dirname)(require.main.filename),"../","product.json"),(0,$t.existsSync)(t))if((0,$t.existsSync)(e)){let o=t.replace(".js","-backup.js"),a=e.replace(".json","-backup.json");if(!(0,$t.existsSync)(o)||!(0,$t.existsSync)(a))try{(0,$t.copyFileSync)(t,o),(0,$t.copyFileSync)(e,a)}catch(c){if((0,Je.platform)()==="linux"&&t.toString().replace(/\\/g,"/").includes("/snap/")&&e.toString().replace(/\\/g,"/").includes("/snap/")){T.window.showErrorMessage("Background extension does not support snap installations, use deb or rpm");return}else T.window.showWarningMessage("Failed to backup files, run command as administrator?",{detail:`The Background extension does not have permission to backup to the VSCode folder, run command using administrator permissions?

${c.message}`,modal:!0},"Yes").then(h=>{if(h==="Yes"){let f=ei([[t,o],[e,a]]);(0,Xo.exec)(f,{name:"VSCode Extension Host"},u=>{u&&T.window.showErrorMessage("Failed to backup files",{detail:`OS: ${(0,Je.platform)()} ${(0,Je.release)()}
Using command: ${f}

${u.name}
${u.message}`.trim(),modal:!0})})}else T.window.showWarningMessage("Background extension is running without backup files")})}}else{T.window.showErrorMessage(`Failed to find '${e}, please report this issue`);return}else{T.window.showErrorMessage(`Failed to find '${t}, please report this issue`);return}else{T.window.showErrorMessage("Failed to find main file, please report this issue");return}let r=T.Uri.file((0,Qt.join)(i.extensionPath,"CHANGELOG.md")),s=T.Uri.file((0,Qt.join)(i.extensionPath,"HELP.md")),n=T.window.createStatusBarItem(T.StatusBarAlignment.Right);return n.command="background.config",n.name="Background",n.text="$(file-media) Background",n.tooltip="Open background configuration",i.subscriptions.push(T.commands.registerCommand("background.install",()=>Vo(t,e)),T.commands.registerCommand("background.uninstall",()=>Go(t,e)),T.commands.registerCommand("background.reload",Gt),T.commands.registerCommand("background.help",()=>T.commands.executeCommand("markdown.showPreview",s)),T.commands.registerCommand("background.changelog",()=>T.commands.executeCommand("markdown.showPreview",r)),T.commands.registerCommand("background.config",mr),n),n.show(),In};0&&(module.exports={activate});
